var Ar=Object.defineProperty;var Pr=(r,n,e)=>n in r?Ar(r,n,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[n]=e;var d=(r,n,e)=>(Pr(r,typeof n!="symbol"?n+"":n,e),e);import{a as L,E as We,g as Mr,m as zn,i as Kn,b as mt,c as be,T as qn,d as Nr,e as $r,f as Br,h as Ht,S as An,j as Qn,B as Dr,k as Or,l as Yr,n as Zt,W as Pn,o as Wr,p as Ur,C as Xr}from"./CoreExtension-fb417e8a.js";function sa(){import.meta.url,import("_").catch(()=>1);async function*r(){}}(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))t(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&t(s)}).observe(document,{childList:!0,subtree:!0});function e(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function t(o){if(o.ep)return;o.ep=!0;const i=e(o);fetch(o.href,i)}})();const Jn=(r,n)=>r===n,Pt=Symbol("solid-proxy"),jr=Symbol("solid-track"),Mt={equals:Jn};let Zn=ir;const pe=1,Nt=2,er={owned:null,cleanups:null,context:null,owner:null},en={};var N=null;let tn=null,$=null,ne=null,_e=null,Gt=0;function Ze(r,n){const e=$,t=N,o=r.length===0,i=n===void 0?t:n,s=o?er:{owned:null,cleanups:null,context:i?i.context:null,owner:i},l=o?r:()=>r(()=>oe(()=>Kt(s)));N=s,$=null;try{return Se(l,!0)}finally{$=e,N=t}}function B(r,n){n=n?Object.assign({},Mt,n):Mt;const e={value:r,observers:null,observerSlots:null,comparator:n.equals||void 0},t=o=>(typeof o=="function"&&(o=o(e.value)),or(e,o));return[rr.bind(e),t]}function an(r,n,e){const t=yt(r,n,!0,pe);Ue(t)}function ve(r,n,e){const t=yt(r,n,!1,pe);Ue(t)}function me(r,n,e){Zn=Zr;const t=yt(r,n,!1,pe);(!e||!e.render)&&(t.user=!0),_e?_e.push(t):Ue(t)}function Z(r,n,e){e=e?Object.assign({},Mt,e):Mt;const t=yt(r,n,!0,0);return t.observers=null,t.observerSlots=null,t.comparator=e.equals||void 0,Ue(t),rr.bind(t)}function Hr(r){return r&&typeof r=="object"&&"then"in r}function De(r,n,e){let t,o,i;arguments.length===2&&typeof n=="object"||arguments.length===1?(t=!0,o=r,i=n||{}):(t=r,o=n,i=e||{});let s=null,l=en,c=!1,u="initialValue"in i,h=typeof t=="function"&&Z(t);const f=new Set,[v,_]=(i.storage||B)(i.initialValue),[y,x]=B(void 0),[S,T]=B(void 0,{equals:!1}),[p,m]=B(u?"ready":"unresolved");function g(b,w,R,k){return s===b&&(s=null,k!==void 0&&(u=!0),(b===l||w===l)&&i.onHydrated&&queueMicrotask(()=>i.onHydrated(k,{value:w})),l=en,C(w,R)),w}function C(b,w){Se(()=>{w===void 0&&_(()=>b),m(w!==void 0?"errored":u?"ready":"unresolved"),x(w);for(const R of f.keys())R.decrement();f.clear()},!1)}function E(){const b=qr,w=v(),R=y();if(R!==void 0&&!s)throw R;return $&&!$.user&&b&&an(()=>{S(),s&&(b.resolved||f.has(b)||(b.increment(),f.add(b)))}),w}function F(b=!0){if(b!==!1&&c)return;c=!1;const w=h?h():t;if(w==null||w===!1){g(s,oe(v));return}const R=l!==en?l:oe(()=>o(w,{value:v(),refetching:b}));return Hr(R)?(s=R,"value"in R?(R.status==="success"?g(s,R.value,void 0,w):g(s,void 0,void 0,w),R):(c=!0,queueMicrotask(()=>c=!1),Se(()=>{m(u?"refreshing":"pending"),T()},!1),R.then(k=>g(R,k,void 0,w),k=>g(R,void 0,ar(k),w)))):(g(s,R,void 0,w),R)}return Object.defineProperties(E,{state:{get:()=>p()},error:{get:()=>y()},loading:{get(){const b=p();return b==="pending"||b==="refreshing"}},latest:{get(){if(!u)return E();const b=y();if(b&&!s)throw b;return v()}}}),h?an(()=>F(!1)):F(!1),[E,{refetch:F,mutate:_}]}function tr(r,n=Jn,e){const t=new Map,o=yt(i=>{const s=r();for(const[l,c]of t.entries())if(n(l,s)!==n(l,i))for(const u of c.values())u.state=pe,u.pure?ne.push(u):_e.push(u);return s},void 0,!0,pe);return Ue(o),i=>{const s=$;if(s){let l;(l=t.get(i))?l.add(s):t.set(i,l=new Set([s])),ze(()=>{l.delete(s),!l.size&&t.delete(i)})}return n(i,o.value)}}function Gr(r){return Se(r,!1)}function oe(r){if($===null)return r();const n=$;$=null;try{return r()}finally{$=n}}function Ee(r,n,e){const t=Array.isArray(r);let o,i=e&&e.defer;return s=>{let l;if(t){l=Array(r.length);for(let u=0;u<r.length;u++)l[u]=r[u]()}else l=r();if(i){i=!1;return}const c=oe(()=>n(l,o,s));return o=l,c}}function xt(r){me(()=>oe(r))}function ze(r){return N===null||(N.cleanups===null?N.cleanups=[r]:N.cleanups.push(r)),r}function Vt(){return N}function Vr(r,n){const e=N,t=$;N=r,$=null;try{return Se(n,!0)}catch(o){bn(o)}finally{N=e,$=t}}function Kr(r){const n=$,e=N;return Promise.resolve().then(()=>{$=n,N=e;let t;return Se(r,!1),$=N=null,t?t.done:void 0})}function nr(r,n){const e=Symbol("context");return{id:e,Provider:eo(e),defaultValue:r}}function _n(r){return N&&N.context&&N.context[r.id]!==void 0?N.context[r.id]:r.defaultValue}function Sn(r){const n=Z(r),e=Z(()=>ln(n()));return e.toArray=()=>{const t=e();return Array.isArray(t)?t:t!=null?[t]:[]},e}let qr;function rr(){if(this.sources&&this.state)if(this.state===pe)Ue(this);else{const r=ne;ne=null,Se(()=>Bt(this),!1),ne=r}if($){const r=this.observers?this.observers.length:0;$.sources?($.sources.push(this),$.sourceSlots.push(r)):($.sources=[this],$.sourceSlots=[r]),this.observers?(this.observers.push($),this.observerSlots.push($.sources.length-1)):(this.observers=[$],this.observerSlots=[$.sources.length-1])}return this.value}function or(r,n,e){let t=r.value;return(!r.comparator||!r.comparator(t,n))&&(r.value=n,r.observers&&r.observers.length&&Se(()=>{for(let o=0;o<r.observers.length;o+=1){const i=r.observers[o],s=tn&&tn.running;s&&tn.disposed.has(i),(s?!i.tState:!i.state)&&(i.pure?ne.push(i):_e.push(i),i.observers&&sr(i)),s||(i.state=pe)}if(ne.length>1e6)throw ne=[],new Error},!1)),n}function Ue(r){if(!r.fn)return;Kt(r);const n=Gt;Qr(r,r.value,n)}function Qr(r,n,e){let t;const o=N,i=$;$=N=r;try{t=r.fn(n)}catch(s){return r.pure&&(r.state=pe,r.owned&&r.owned.forEach(Kt),r.owned=null),r.updatedAt=e+1,bn(s)}finally{$=i,N=o}(!r.updatedAt||r.updatedAt<=e)&&(r.updatedAt!=null&&"observers"in r?or(r,t):r.value=t,r.updatedAt=e)}function yt(r,n,e,t=pe,o){const i={fn:r,state:t,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:n,owner:N,context:N?N.context:null,pure:e};return N===null||N!==er&&(N.owned?N.owned.push(i):N.owned=[i]),i}function $t(r){if(r.state===0)return;if(r.state===Nt)return Bt(r);if(r.suspense&&oe(r.suspense.inFallback))return r.suspense.effects.push(r);const n=[r];for(;(r=r.owner)&&(!r.updatedAt||r.updatedAt<Gt);)r.state&&n.push(r);for(let e=n.length-1;e>=0;e--)if(r=n[e],r.state===pe)Ue(r);else if(r.state===Nt){const t=ne;ne=null,Se(()=>Bt(r,n[0]),!1),ne=t}}function Se(r,n){if(ne)return r();let e=!1;n||(ne=[]),_e?e=!0:_e=[],Gt++;try{const t=r();return Jr(e),t}catch(t){e||(_e=null),ne=null,bn(t)}}function Jr(r){if(ne&&(ir(ne),ne=null),r)return;const n=_e;_e=null,n.length&&Se(()=>Zn(n),!1)}function ir(r){for(let n=0;n<r.length;n++)$t(r[n])}function Zr(r){let n,e=0;for(n=0;n<r.length;n++){const t=r[n];t.user?r[e++]=t:$t(t)}for(n=0;n<e;n++)$t(r[n])}function Bt(r,n){r.state=0;for(let e=0;e<r.sources.length;e+=1){const t=r.sources[e];if(t.sources){const o=t.state;o===pe?t!==n&&(!t.updatedAt||t.updatedAt<Gt)&&$t(t):o===Nt&&Bt(t,n)}}}function sr(r){for(let n=0;n<r.observers.length;n+=1){const e=r.observers[n];e.state||(e.state=Nt,e.pure?ne.push(e):_e.push(e),e.observers&&sr(e))}}function Kt(r){let n;if(r.sources)for(;r.sources.length;){const e=r.sources.pop(),t=r.sourceSlots.pop(),o=e.observers;if(o&&o.length){const i=o.pop(),s=e.observerSlots.pop();t<o.length&&(i.sourceSlots[s]=t,o[t]=i,e.observerSlots[t]=s)}}if(r.owned){for(n=r.owned.length-1;n>=0;n--)Kt(r.owned[n]);r.owned=null}if(r.cleanups){for(n=r.cleanups.length-1;n>=0;n--)r.cleanups[n]();r.cleanups=null}r.state=0}function ar(r){return r instanceof Error?r:new Error(typeof r=="string"?r:"Unknown error",{cause:r})}function bn(r,n=N){throw ar(r)}function ln(r){if(typeof r=="function"&&!r.length)return ln(r());if(Array.isArray(r)){const n=[];for(let e=0;e<r.length;e++){const t=ln(r[e]);Array.isArray(t)?n.push.apply(n,t):n.push(t)}return n}return r}function eo(r,n){return function(t){let o;return ve(()=>o=oe(()=>(N.context={...N.context,[r]:t.value},Sn(()=>t.children))),void 0),o}}const to=Symbol("fallback");function Mn(r){for(let n=0;n<r.length;n++)r[n]()}function no(r,n,e={}){let t=[],o=[],i=[],s=0,l=n.length>1?[]:null;return ze(()=>Mn(i)),()=>{let c=r()||[],u,h;return c[jr],oe(()=>{let v=c.length,_,y,x,S,T,p,m,g,C;if(v===0)s!==0&&(Mn(i),i=[],t=[],o=[],s=0,l&&(l=[])),e.fallback&&(t=[to],o[0]=Ze(E=>(i[0]=E,e.fallback())),s=1);else if(s===0){for(o=new Array(v),h=0;h<v;h++)t[h]=c[h],o[h]=Ze(f);s=v}else{for(x=new Array(v),S=new Array(v),l&&(T=new Array(v)),p=0,m=Math.min(s,v);p<m&&t[p]===c[p];p++);for(m=s-1,g=v-1;m>=p&&g>=p&&t[m]===c[g];m--,g--)x[g]=o[m],S[g]=i[m],l&&(T[g]=l[m]);for(_=new Map,y=new Array(g+1),h=g;h>=p;h--)C=c[h],u=_.get(C),y[h]=u===void 0?-1:u,_.set(C,h);for(u=p;u<=m;u++)C=t[u],h=_.get(C),h!==void 0&&h!==-1?(x[h]=o[u],S[h]=i[u],l&&(T[h]=l[u]),h=y[h],_.set(C,h)):i[u]();for(h=p;h<v;h++)h in x?(o[h]=x[h],i[h]=S[h],l&&(l[h]=T[h],l[h](h))):o[h]=Ze(f);o=o.slice(0,s=v),t=c.slice(0)}return o});function f(v){if(i[h]=v,l){const[_,y]=B(h);return l[h]=y,n(c[h],_)}return n(c[h])}}}function lr(r,n){return oe(()=>r(n||{}))}function Tt(){return!0}const cn={get(r,n,e){return n===Pt?e:r.get(n)},has(r,n){return n===Pt?!0:r.has(n)},set:Tt,deleteProperty:Tt,getOwnPropertyDescriptor(r,n){return{configurable:!0,enumerable:!0,get(){return r.get(n)},set:Tt,deleteProperty:Tt}},ownKeys(r){return r.keys()}};function nn(r){return(r=typeof r=="function"?r():r)?r:{}}function ro(){for(let r=0,n=this.length;r<n;++r){const e=this[r]();if(e!==void 0)return e}}function Tn(...r){let n=!1;for(let i=0;i<r.length;i++){const s=r[i];n=n||!!s&&Pt in s,r[i]=typeof s=="function"?(n=!0,Z(s)):s}if(n)return new Proxy({get(i){for(let s=r.length-1;s>=0;s--){const l=nn(r[s])[i];if(l!==void 0)return l}},has(i){for(let s=r.length-1;s>=0;s--)if(i in nn(r[s]))return!0;return!1},keys(){const i=[];for(let s=0;s<r.length;s++)i.push(...Object.keys(nn(r[s])));return[...new Set(i)]}},cn);const e={},t={},o=new Set;for(let i=r.length-1;i>=0;i--){const s=r[i];if(!s)continue;const l=Object.getOwnPropertyNames(s);for(let c=0,u=l.length;c<u;c++){const h=l[c];if(h==="__proto__"||h==="constructor")continue;const f=Object.getOwnPropertyDescriptor(s,h);if(!o.has(h))f.get?(o.add(h),Object.defineProperty(e,h,{enumerable:!0,configurable:!0,get:ro.bind(t[h]=[f.get.bind(s)])})):(f.value!==void 0&&o.add(h),e[h]=f.value);else{const v=t[h];v?f.get?v.push(f.get.bind(s)):f.value!==void 0&&v.push(()=>f.value):e[h]===void 0&&(e[h]=f.value)}}}return e}function oo(r,...n){if(Pt in r){const o=new Set(n.length>1?n.flat():n[0]),i=n.map(s=>new Proxy({get(l){return s.includes(l)?r[l]:void 0},has(l){return s.includes(l)&&l in r},keys(){return s.filter(l=>l in r)}},cn));return i.push(new Proxy({get(s){return o.has(s)?void 0:r[s]},has(s){return o.has(s)?!1:s in r},keys(){return Object.keys(r).filter(s=>!o.has(s))}},cn)),i}const e={},t=n.map(()=>({}));for(const o of Object.getOwnPropertyNames(r)){const i=Object.getOwnPropertyDescriptor(r,o),s=!i.get&&!i.set&&i.enumerable&&i.writable&&i.configurable;let l=!1,c=0;for(const u of n)u.includes(o)&&(l=!0,s?t[c][o]=i.value:Object.defineProperty(t[c],o,i)),++c;l||(s?e[o]=i.value:Object.defineProperty(e,o,i))}return[...t,e]}const io=r=>"Stale read from <".concat(r,">.");function qt(r){const n="fallback"in r&&{fallback:()=>r.fallback};return Z(no(()=>r.each,r.children,n||void 0))}function Re(r){const n=r.keyed,e=Z(()=>r.when,void 0,{equals:(t,o)=>n?t===o:!t==!o});return Z(()=>{const t=e();if(t){const o=r.children;return typeof o=="function"&&o.length>0?oe(()=>o(n?t:()=>{if(!oe(e))throw io("Show");return r.when})):o}return r.fallback},void 0,void 0)}const so=void 0,[Dt,cr]=B(null);class ur{constructor(n){d(this,"releaseCallback");this.releaseCallback=n}}class ao extends ur{constructor(e,t){var o,i;super(e);d(this,"textureMap",new Map);d(this,"zeroReferenceTextureSet",new Set);d(this,"options");this.options={textureCleanupIntervalMs:(o=t.textureCleanupIntervalMs)!=null?o:1e4,textureCleanupAgeThreadholdMs:(i=t.textureCleanupAgeThreadholdMs)!=null?i:6e4},setInterval(()=>{const s=Date.now(),l=this.options.textureCleanupAgeThreadholdMs;for(const c of this.zeroReferenceTextureSet)s-c.lastUpdate>l&&(this.releaseCallback(c.id),this.textureMap.delete(c.id),this.zeroReferenceTextureSet.delete(c))},this.options.textureCleanupIntervalMs)}registerTexture(e){var o;const t=(o=e.options)==null?void 0:o.id;if(L(t,"Texture must have an id to be registered"),!this.textureMap.has(t)){const i={id:t,nodeRefCount:0,lastUpdate:Date.now()};this.textureMap.set(t,i),this.zeroReferenceTextureSet.add(i)}}incrementTextureRefCount(e){var i;const t=(i=e.options)==null?void 0:i.id;L(t,"Texture must have an id to be registered");let o=this.textureMap.get(t);o||(this.registerTexture(e),o=this.textureMap.get(t)),L(o,"Texture must have been registered"),e.txType==="SubTexture"&&this.incrementTextureRefCount(e.props.texture),o.nodeRefCount++,o.lastUpdate=Date.now(),this.zeroReferenceTextureSet.has(o)&&this.zeroReferenceTextureSet.delete(o)}decrementTextureRefCount(e){var i;const t=(i=e.options)==null?void 0:i.id;L(t,"Texture must have an id to be registered");const o=this.textureMap.get(t);L(o,"Texture must have been registered"),o.nodeRefCount--,o.lastUpdate=Date.now(),o.nodeRefCount===0&&this.zeroReferenceTextureSet.add(o),e.txType==="SubTexture"&&this.decrementTextureRefCount(e.props.texture)}}class lo extends ur{constructor(e){super(e);d(this,"registry");this.registry=new FinalizationRegistry(e)}registerTexture(e){var t,o;L((t=e.options)==null?void 0:t.id,"Texture must have an ID to be registered"),this.registry.register(e,(o=e.options)==null?void 0:o.id)}incrementTextureRefCount(){}decrementTextureRefCount(){}}class co extends We{constructor(e,t,o){var S,T;super();d(this,"root",null);d(this,"driver");d(this,"canvas");d(this,"settings");d(this,"nodes",new Map);d(this,"nextTextureId",1);d(this,"textureTracker");const i={appWidth:e.appWidth||1920,appHeight:e.appHeight||1080,deviceLogicalPixelRatio:e.deviceLogicalPixelRatio||1,devicePhysicalPixelRatio:e.devicePhysicalPixelRatio||window.devicePixelRatio,clearColor:(S=e.clearColor)!=null?S:0,coreExtensionModule:e.coreExtensionModule||null,experimental_FinalizationRegistryTextureUsageTracker:(T=e.experimental_FinalizationRegistryTextureUsageTracker)!=null?T:!1,textureCleanupOptions:e.textureCleanupOptions||{},fpsUpdateInterval:e.fpsUpdateInterval||0};this.settings=i;const{appWidth:s,appHeight:l,deviceLogicalPixelRatio:c,devicePhysicalPixelRatio:u}=i,h=p=>{this.driver.releaseTexture(p)},f=i.experimental_FinalizationRegistryTextureUsageTracker&&typeof FinalizationRegistry=="function";this.textureTracker=f?new lo(h):new ao(h,this.settings.textureCleanupOptions);const v=s*c,_=l*c;this.driver=o;const y=document.createElement("canvas");this.canvas=y,y.width=v*u,y.height=_*u,y.style.width="".concat(v,"px"),y.style.height="".concat(_,"px");let x;if(typeof t=="string"?x=document.getElementById(t):x=t,!x)throw new Error("Could not find target element");o.onCreateNode=p=>{this.nodes.set(p.id,p)},o.onBeforeDestroyNode=p=>{this.nodes.delete(p.id)},o.onFpsUpdate=p=>{this.emit("fpsUpdate",p)},x.appendChild(y)}async init(){await this.driver.init(this,this.settings,this.canvas),this.root=this.driver.getRootNode()}createNode(e){return this.driver.createNode(this.resolveNodeDefaults(e))}createTextNode(e){var t,o,i,s,l,c,u,h,f,v,_,y,x,S;return this.driver.createTextNode({...this.resolveNodeDefaults(e),text:(t=e.text)!=null?t:"",textRendererOverride:(o=e.textRendererOverride)!=null?o:null,fontSize:(i=e.fontSize)!=null?i:16,fontFamily:(s=e.fontFamily)!=null?s:"sans-serif",fontStyle:(l=e.fontStyle)!=null?l:"normal",fontWeight:(c=e.fontWeight)!=null?c:"normal",fontStretch:(u=e.fontStretch)!=null?u:"normal",textAlign:(h=e.textAlign)!=null?h:"left",contain:(f=e.contain)!=null?f:"none",scrollable:(v=e.scrollable)!=null?v:!1,scrollY:(_=e.scrollY)!=null?_:0,offsetY:(y=e.offsetY)!=null?y:0,letterSpacing:(x=e.letterSpacing)!=null?x:0,debug:(S=e.debug)!=null?S:{}})}resolveNodeDefaults(e){var c,u,h,f,v,_,y,x,S,T,p,m,g,C,E,F,b,w,R,k,I,A,O,W,ee,q,le,Fe,nt,wt,_t,Me,xe,he,Q,D,Ie,ie,ke,St,bt,Ne,$e,Be,rt;const t=(c=e.color)!=null?c:4294967295,o=(f=(h=(u=e.colorTl)!=null?u:e.colorTop)!=null?h:e.colorLeft)!=null?f:t,i=(y=(_=(v=e.colorTr)!=null?v:e.colorTop)!=null?_:e.colorRight)!=null?y:t,s=(T=(S=(x=e.colorBl)!=null?x:e.colorBottom)!=null?S:e.colorLeft)!=null?T:t,l=(g=(m=(p=e.colorBr)!=null?p:e.colorBottom)!=null?m:e.colorRight)!=null?g:t;return{x:(C=e.x)!=null?C:0,y:(E=e.y)!=null?E:0,width:(F=e.width)!=null?F:0,height:(b=e.height)!=null?b:0,alpha:(w=e.alpha)!=null?w:1,clipping:(R=e.clipping)!=null?R:!1,color:t,colorTop:(k=e.colorTop)!=null?k:t,colorBottom:(I=e.colorBottom)!=null?I:t,colorLeft:(A=e.colorLeft)!=null?A:t,colorRight:(O=e.colorRight)!=null?O:t,colorBl:s,colorBr:l,colorTl:o,colorTr:i,zIndex:(W=e.zIndex)!=null?W:0,zIndexLocked:(ee=e.zIndexLocked)!=null?ee:0,parent:(q=e.parent)!=null?q:null,texture:(le=e.texture)!=null?le:null,shader:(Fe=e.shader)!=null?Fe:null,src:(nt=e.src)!=null?nt:"",scale:(wt=e.scale)!=null?wt:null,scaleX:(Me=(_t=e.scaleX)!=null?_t:e.scale)!=null?Me:1,scaleY:(he=(xe=e.scaleY)!=null?xe:e.scale)!=null?he:1,mount:(Q=e.mount)!=null?Q:0,mountX:(Ie=(D=e.mountX)!=null?D:e.mount)!=null?Ie:0,mountY:(ke=(ie=e.mountY)!=null?ie:e.mount)!=null?ke:0,pivot:(St=e.pivot)!=null?St:.5,pivotX:(Ne=(bt=e.pivotX)!=null?bt:e.pivot)!=null?Ne:.5,pivotY:(Be=($e=e.pivotY)!=null?$e:e.pivot)!=null?Be:.5,rotation:(rt=e.rotation)!=null?rt:0}}destroyNode(e){return this.driver.destroyNode(e)}createTexture(e,t,o){const i=this.nextTextureId++,s={descType:"texture",txType:e,props:t,options:{...o,id:i}};return this.textureTracker.registerTexture(s),s}createShader(e,t){return{descType:"shader",shType:e,props:t}}getNodeById(e){return this.nodes.get(e)||null}toggleFreeze(){throw new Error("Not implemented")}advanceFrame(){throw new Error("Not implemented")}rerender(){throw new Error("Not implemented")}}class uo extends We{constructor(e,t,o){super();d(this,"node");d(this,"props");d(this,"settings");d(this,"propStartValues",{});d(this,"restoreValues",{});d(this,"progress",0);d(this,"timingFunction");d(this,"propsList");this.node=e,this.props=t,this.settings=o,this.propStartValues={},this.propsList=Object.keys(t),this.propsList.forEach(i=>{this.propStartValues[i]=e[i]}),this.timingFunction=i=>i,o.easing&&typeof o.easing=="string"&&(this.timingFunction=Mr(o.easing))}reset(){this.progress=0,this.update(0)}restore(){this.reset(),Object.keys(this.props).forEach(e=>{this.node[e]=this.propStartValues[e]})}reverse(){this.progress=0,Object.keys(this.props).forEach(e=>{const t=this.props[e],o=this.propStartValues[e];this.props[e]=o,this.propStartValues[e]=t}),this.settings.loop||(this.settings.stopMethod=!1)}applyEasing(e,t,o){return(this.timingFunction(e)||e)*(o-t)+t}update(e){const{duration:t,loop:o,easing:i}=this.settings;if(!t){this.emit("finished",{});return}if(this.progress+=e/t,this.progress>1)return this.progress=o?0:1,this.emit("finished",{});for(let s=0;s<this.propsList.length;s++){const l=this.propsList[s],c=this.props[l],u=this.propStartValues[l],h=c;if(l.indexOf("color")!==-1){if(u===h){this.node[l]=u;continue}if(i){const f=this.timingFunction(this.progress)||this.progress,v=zn(u,h,f);this.node[l]=v;continue}this.node[l]=zn(u,h,this.progress);continue}if(i){this.node[l]=this.applyEasing(this.progress,u,h);continue}this.node[l]=u+(h-u)*this.progress}}}class ho{constructor(n,e){d(this,"manager");d(this,"animation");d(this,"stoppedPromise",null);d(this,"stoppedResolve",null);d(this,"state");this.manager=n,this.animation=e,this.state="stopped"}start(){return this.makeStoppedPromise(),this.animation.once("finished",this.finished.bind(this)),this.manager.activeAnimations.has(this.animation)||this.manager.registerAnimation(this.animation),this.state="running",this}stop(){return this.manager.unregisterAnimation(this.animation),this.stoppedResolve!==null&&(this.stoppedResolve(),this.stoppedResolve=null),this.animation.reset(),this.state="stopped",this}pause(){return this.manager.unregisterAnimation(this.animation),this.state="paused",this}restore(){return this.stoppedResolve=null,this.animation.restore(),this}waitUntilStopped(){this.makeStoppedPromise();const n=this.stoppedPromise;return L(n),n}makeStoppedPromise(){this.stoppedResolve===null&&(this.stoppedPromise=new Promise(n=>{this.stoppedResolve=n}))}finished(){L(this.stoppedResolve);const{loop:n,stopMethod:e}=this.animation.settings;if(e==="reverse"){this.animation.reverse(),this.start();return}this.stoppedResolve(),this.stoppedResolve=null,!n&&this.manager.unregisterAnimation(this.animation)}}const j=0,H=3,re=6,U=1,G=4,se=7,de=2,fe=5,ge=8;class ue{constructor(n){d(this,"data");n?(this.data=new Float32Array(9),this.data[j]=n[0],this.data[H]=n[3],this.data[re]=n[6],this.data[U]=n[1],this.data[G]=n[4],this.data[se]=n[7],this.data[de]=n[2],this.data[fe]=n[5],this.data[ge]=n[8]):this.data=new Float32Array(9)}static get temp(){return fo}static multiply(n,e,t){const o=n.data[j]*e.data[j]+n.data[H]*e.data[U]+n.data[re]*e.data[de],i=n.data[j]*e.data[H]+n.data[H]*e.data[G]+n.data[re]*e.data[fe],s=n.data[j]*e.data[re]+n.data[H]*e.data[se]+n.data[re]*e.data[ge],l=n.data[U]*e.data[j]+n.data[G]*e.data[U]+n.data[se]*e.data[de],c=n.data[U]*e.data[H]+n.data[G]*e.data[G]+n.data[se]*e.data[fe],u=n.data[U]*e.data[re]+n.data[G]*e.data[se]+n.data[se]*e.data[ge],h=n.data[de]*e.data[j]+n.data[fe]*e.data[U]+n.data[ge]*e.data[de],f=n.data[de]*e.data[H]+n.data[fe]*e.data[G]+n.data[ge]*e.data[fe],v=n.data[de]*e.data[re]+n.data[fe]*e.data[se]+n.data[ge]*e.data[ge];return t||(t=new ue),t.data[j]=o,t.data[H]=i,t.data[re]=s,t.data[U]=l,t.data[G]=c,t.data[se]=u,t.data[de]=h,t.data[fe]=f,t.data[ge]=v,t}static identity(n){return n||(n=new ue),n.data[j]=1,n.data[H]=0,n.data[re]=0,n.data[U]=0,n.data[G]=1,n.data[se]=0,n.data[de]=0,n.data[fe]=0,n.data[ge]=1,n}static translate(n,e,t){return t||(t=new ue),t.data[j]=1,t.data[H]=0,t.data[re]=n,t.data[U]=0,t.data[G]=1,t.data[se]=e,t.data[de]=0,t.data[fe]=0,t.data[ge]=1,t}static scale(n,e,t){return t||(t=new ue),t.data[j]=n,t.data[H]=0,t.data[re]=0,t.data[U]=0,t.data[G]=e,t.data[se]=0,t.data[de]=0,t.data[fe]=0,t.data[ge]=1,t}static rotate(n,e){const t=Math.cos(n),o=Math.sin(n);return e||(e=new ue),e.data[j]=t,e.data[H]=-o,e.data[re]=0,e.data[U]=o,e.data[G]=t,e.data[se]=0,e.data[de]=0,e.data[fe]=0,e.data[ge]=1,e}static copy(n,e,t){return e||(e=new ue),e.data[0]=n.data[0],e.data[1]=n.data[1],e.data[2]=n.data[2],e.data[3]=n.data[3],e.data[4]=n.data[4],e.data[5]=n.data[5],e.data[6]=n.data[6],e.data[7]=n.data[7],e.data[8]=n.data[8],e}translate(n,e){return this.data[re]=this.data[j]*n+this.data[H]*e+this.data[re],this.data[se]=this.data[U]*n+this.data[G]*e+this.data[se],this}scale(n,e){return this.data[j]=this.data[j]*n,this.data[H]=this.data[H]*e,this.data[U]=this.data[U]*n,this.data[G]=this.data[G]*e,this}rotate(n){if(n===0||!(n%Math.PI*2))return this;const e=Math.cos(n),t=Math.sin(n),o=this.data[j]*e+this.data[H]*t,i=this.data[H]*e-this.data[j]*t,s=this.data[U]*e+this.data[G]*t,l=this.data[G]*e-this.data[U]*t;return this.data[j]=o,this.data[H]=i,this.data[U]=s,this.data[G]=l,this}multiply(n){return ue.multiply(this,n,this)}get tx(){return this.data[re]}get ty(){return this.data[se]}get ta(){return this.data[j]}get tb(){return this.data[H]}get tc(){return this.data[U]}get td(){return this.data[G]}transformPoint(n,e){return[this.data[j]*n+this.data[H]*e+this.data[re],this.data[U]*n+this.data[G]*e+this.data[U]]}}const fo=new ue;class Cn extends We{constructor(e,t){super();d(this,"stage");d(this,"children",[]);d(this,"props");d(this,"recalculationType",0);d(this,"hasUpdates",!0);d(this,"globalTransform");d(this,"scaleRotateTransform");d(this,"localTransform");d(this,"clippingRect",null);d(this,"parentClippingRect",null);d(this,"isComplex",!1);d(this,"onTextureLoaded",(e,t)=>{this.emit("loaded",{type:"texture",dimensions:t})});d(this,"onTextureFailed",(e,t)=>{this.emit("failed",{type:"texture",error:t})});this.stage=e,this.props={...t,parent:null},this.parent=t.parent,this.updateScaleRotateTransform()}loadTexture(e,t,o=null){this.props.texture&&this.unloadTexture();const{txManager:i}=this.stage,s=i.loadTexture(e,t,o);this.props.texture=s,this.props.textureOptions=o,queueMicrotask(()=>{s.state==="loaded"?this.onTextureLoaded(s,s.dimensions):s.state==="failed"&&this.onTextureFailed(s,s.error),s.on("loaded",this.onTextureLoaded),s.on("failed",this.onTextureFailed)})}unloadTexture(){this.props.texture&&(this.props.texture.off("loaded",this.onTextureLoaded),this.props.texture.off("failed",this.onTextureFailed)),this.props.texture=null,this.props.textureOptions=null}loadShader(e,t){const o=this.stage.renderer.getShaderManager();L(o);const{shader:i,props:s}=o.loadShader(e,t);this.props.shader=i,this.props.shaderProps=s}setHasUpdates(){this.hasUpdates=!0}setChildrenHasUpdates(){this.children.forEach(e=>{e.setRecalculationType(2)})}setParentHasUpdates(){this.props.parent&&this.props.parent.setRecalculationType(1)}setRecalculationType(e){this.recalculationType|=e,this.setHasUpdates(),this.setParentHasUpdates(),e&4&&this.setChildrenHasUpdates()}sortChildren(){this.children.sort((e,t)=>e.zIndex-t.zIndex)}updateScaleRotateTransform(){this.setRecalculationType(4),this.scaleRotateTransform=ue.rotate(this.props.rotation,this.scaleRotateTransform).scale(this.props.scaleX,this.props.scaleY),this.updateLocalTransform()}updateLocalTransform(){L(this.scaleRotateTransform),this.setRecalculationType(2);const e=this.props.pivotX*this.props.width,t=this.props.pivotY*this.props.height,o=this.props.mountX*this.props.width,i=this.props.mountY*this.props.height;this.localTransform=ue.translate(e-o+this.props.x,t-i+this.props.y,this.localTransform).multiply(this.scaleRotateTransform).translate(-e,-t)}update(e,t=null){var i;L(this.localTransform);const o=(i=this.parent)==null?void 0:i.globalTransform;o?this.globalTransform=ue.copy(o,this.globalTransform).multiply(this.localTransform):this.globalTransform=ue.copy(this.localTransform,this.globalTransform),this.calculateClippingRect(t),this.children.length&&this.children.forEach(s=>{s.update(e,this.clippingRect)}),this.recalculationType&8&&this.sortChildren(),this.hasUpdates=!1,this.recalculationType=0}calculateClippingRect(e=null){if(!this.globalTransform)return;if(!this.props.clipping&&!e){this.clippingRect=null;return}if(this.parentClippingRect===e&&this.clippingRect)return;const t=this.globalTransform,o=t.tb!==0||t.tc!==0;let i=this.props.clipping&&!o?{x:t.tx,y:t.ty,width:this.width*t.ta,height:this.height*t.td}:null;e&&i?i=Kn(e,i):e&&(i=e),this.parentClippingRect=e,this.clippingRect=i}renderQuads(e){const{width:t,height:o,colorTl:i,colorTr:s,colorBl:l,colorBr:c,texture:u,textureOptions:h,shader:f,shaderProps:v}=this.props,{zIndex:_,worldAlpha:y,globalTransform:x,clippingRect:S}=this;L(x),e.addQuad({width:t,height:o,colorTl:i,colorTr:s,colorBl:l,colorBr:c,texture:u,textureOptions:h,zIndex:_,shader:f,shaderProps:v,alpha:y,clippingRect:S,tx:x.tx,ty:x.ty,ta:x.ta,tb:x.tb,tc:x.tc,td:x.td})}get id(){return this.props.id}get x(){return this.props.x}set x(e){this.props.x!==e&&(this.props.x=e,this.updateLocalTransform())}get absX(){var e,t,o;return this.props.x+(((e=this.props.parent)==null?void 0:e.absX)||((o=(t=this.props.parent)==null?void 0:t.globalTransform)==null?void 0:o.tx)||0)}get absY(){var e,t;return this.props.y+((t=(e=this.props.parent)==null?void 0:e.absY)!=null?t:0)}get y(){return this.props.y}set y(e){this.props.y!==e&&(this.props.y=e,this.updateLocalTransform())}get width(){return this.props.width}set width(e){this.props.width!==e&&(this.props.width=e,this.updateLocalTransform())}get height(){return this.props.height}set height(e){this.props.height!==e&&(this.props.height=e,this.updateLocalTransform())}get scale(){return this.scaleX}set scale(e){this.scaleX=e,this.scaleY=e}get scaleX(){return this.props.scaleX}set scaleX(e){this.props.scaleX!==e&&(this.props.scaleX=e,this.updateScaleRotateTransform())}get scaleY(){return this.props.scaleY}set scaleY(e){this.props.scaleY!==e&&(this.props.scaleY=e,this.updateScaleRotateTransform())}get worldScaleX(){var e,t;return this.props.scaleX*((t=(e=this.props.parent)==null?void 0:e.worldScaleX)!=null?t:1)||this.props.scaleX}get worldScaleY(){var e,t;return this.props.scaleY*((t=(e=this.props.parent)==null?void 0:e.worldScaleY)!=null?t:1)||this.props.scaleY}get mount(){return this.props.mount}set mount(e){this.props.mountX=e,this.props.mountY=e,this.props.mount=e,this.updateLocalTransform()}get mountX(){return this.props.mountX}set mountX(e){this.props.mountX=e,this.updateLocalTransform()}get mountY(){return this.props.mountY}set mountY(e){this.props.mountY=e,this.updateLocalTransform()}get pivot(){return this.props.pivot}set pivot(e){(this.props.pivotX!==e||this.props.pivotY!==e)&&(this.props.pivotX=e,this.props.pivotY=e,this.updateLocalTransform())}get pivotX(){return this.props.pivotX}set pivotX(e){this.props.pivotX=e,this.updateLocalTransform()}get pivotY(){return this.props.pivotY}set pivotY(e){this.props.pivotY=e,this.updateLocalTransform()}get rotation(){return this.props.rotation}set rotation(e){this.props.rotation!==e&&(this.props.rotation=e,this.updateScaleRotateTransform())}get alpha(){return this.props.alpha}set alpha(e){this.props.alpha=e,this.setRecalculationType(1)}get worldAlpha(){const e=this.props,t=e.parent;return e.alpha*((t==null?void 0:t.worldAlpha)||1)}get clipping(){return this.props.clipping}set clipping(e){this.props.clipping=e,this.clippingRect=null,this.setRecalculationType(4)}get color(){return this.props.color}set color(e){(this.props.colorTl!==e||this.props.colorTr!==e||this.props.colorBl!==e||this.props.colorBr!==e)&&(this.colorTl=e,this.colorTr=e,this.colorBl=e,this.colorBr=e),this.props.color=e,this.setRecalculationType(2)}get colorTop(){return this.props.colorTop}set colorTop(e){(this.props.colorTl!==e||this.props.colorTr!==e)&&(this.colorTl=e,this.colorTr=e),this.props.colorTop=e,this.setRecalculationType(2)}get colorBottom(){return this.props.colorBottom}set colorBottom(e){(this.props.colorBl!==e||this.props.colorBr!==e)&&(this.colorBl=e,this.colorBr=e),this.props.colorBottom=e,this.setRecalculationType(2)}get colorLeft(){return this.props.colorLeft}set colorLeft(e){(this.props.colorTl!==e||this.props.colorBl!==e)&&(this.colorTl=e,this.colorBl=e),this.props.colorLeft=e,this.setRecalculationType(2)}get colorRight(){return this.props.colorRight}set colorRight(e){(this.props.colorTr!==e||this.props.colorBr!==e)&&(this.colorTr=e,this.colorBr=e),this.props.colorRight=e,this.setRecalculationType(2)}get colorTl(){return this.props.colorTl}set colorTl(e){this.props.colorTl=e,this.setRecalculationType(2)}get colorTr(){return this.props.colorTr}set colorTr(e){this.props.colorTr=e,this.setRecalculationType(2)}get colorBl(){return this.props.colorBl}set colorBl(e){this.props.colorBl=e,this.setRecalculationType(2)}get colorBr(){return this.props.colorBr}set colorBr(e){this.props.colorBr=e,this.setRecalculationType(2)}get zIndexLocked(){return this.props.zIndexLocked||0}set zIndexLocked(e){this.props.zIndexLocked=e}get zIndex(){var i,s;const e=this.props,t=e.zIndex||0,o=((i=e.parent)==null?void 0:i.zIndex)||0;return(s=e.parent)!=null&&s.zIndexLocked?t<o?t:o:t}set zIndex(e){var t;this.props.zIndex=e,(t=this.props.parent)==null||t.setRecalculationType(8)}get parent(){return this.props.parent}set parent(e){const t=this.props.parent;if(t!==e){if(this.props.parent=e,t){const o=t.children.indexOf(this);L(o!==-1,"CoreNode.parent: Node not found in old parent's children!"),t.children.splice(o,1)}e&&(e.children.push(this),e.setRecalculationType(8)),this.updateScaleRotateTransform()}}}let go=1;function Rn(){return go++}class un extends We{constructor(e,t,o,i){var s;super();d(this,"rendererMain");d(this,"stage");d(this,"id");d(this,"coreNode");d(this,"_children",[]);d(this,"_src","");d(this,"_parent",null);d(this,"_texture",null);d(this,"_shader",null);d(this,"onTextureLoaded",(e,t)=>{this.emit("loaded",t)});d(this,"onTextureFailed",(e,t)=>{this.emit("failed",t)});this.rendererMain=t,this.stage=o,this.id=(s=i==null?void 0:i.id)!=null?s:Rn(),this.coreNode=i||new Cn(this.stage,{id:this.id,x:e.x,y:e.y,width:e.width,height:e.height,alpha:e.alpha,clipping:e.clipping,color:e.color,colorTop:e.colorTop,colorBottom:e.colorBottom,colorLeft:e.colorLeft,colorRight:e.colorRight,colorTl:e.colorTl,colorTr:e.colorTr,colorBl:e.colorBl,colorBr:e.colorBr,zIndex:e.zIndex,zIndexLocked:e.zIndexLocked,scaleX:e.scaleX,scaleY:e.scaleY,mountX:e.mountX,mountY:e.mountY,mount:e.mount,pivot:e.pivot,pivotX:e.pivotX,pivotY:e.pivotY,rotation:e.rotation,parent:null,shader:null,shaderProps:null,texture:null,textureOptions:null}),this.coreNode.on("loaded",this.onTextureLoaded),this.coreNode.on("failed",this.onTextureFailed),this.parent=e.parent,this.shader=e.shader,this.texture=e.texture,this.src=e.src}get x(){return this.coreNode.x}set x(e){this.coreNode.x=e}get y(){return this.coreNode.y}set y(e){this.coreNode.y=e}get width(){return this.coreNode.width}set width(e){this.coreNode.width=e}get height(){return this.coreNode.height}set height(e){this.coreNode.height=e}get alpha(){return this.coreNode.alpha}set alpha(e){this.coreNode.alpha=e}get clipping(){return this.coreNode.clipping}set clipping(e){this.coreNode.clipping=e}get color(){return this.coreNode.color}set color(e){this.coreNode.color=e}get colorTop(){return this.coreNode.colorTop}set colorTop(e){this.coreNode.colorTop=e}get colorBottom(){return this.coreNode.colorBottom}set colorBottom(e){this.coreNode.colorBottom=e}get colorLeft(){return this.coreNode.colorLeft}set colorLeft(e){this.coreNode.colorLeft=e}get colorRight(){return this.coreNode.colorRight}set colorRight(e){this.coreNode.colorRight=e}get colorTl(){return this.coreNode.colorTl}set colorTl(e){this.coreNode.colorTl=e}get colorTr(){return this.coreNode.colorTr}set colorTr(e){this.coreNode.colorTr=e}get colorBl(){return this.coreNode.colorBl}set colorBl(e){this.coreNode.colorBl=e}get colorBr(){return this.coreNode.colorBr}set colorBr(e){this.coreNode.colorBr=e}get scale(){return this.scaleX!==this.scaleY?null:this.coreNode.scaleX}set scale(e){e!==null&&(this.coreNode.scaleX=e,this.coreNode.scaleY=e)}get scaleX(){return this.coreNode.scaleX}set scaleX(e){this.coreNode.scaleX=e}get scaleY(){return this.coreNode.scaleY}set scaleY(e){this.coreNode.scaleY=e}get mount(){return this.coreNode.mount}set mount(e){this.coreNode.mount=e}get mountX(){return this.coreNode.mountX}set mountX(e){this.coreNode.mountX=e}get mountY(){return this.coreNode.mountY}set mountY(e){this.coreNode.mountY=e}get pivot(){return this.coreNode.pivot}set pivot(e){this.coreNode.pivot=e}get pivotX(){return this.coreNode.pivotX}set pivotX(e){this.coreNode.pivotX=e}get pivotY(){return this.coreNode.pivotY}set pivotY(e){this.coreNode.pivotY=e}get rotation(){return this.coreNode.rotation}set rotation(e){this.coreNode.rotation=e}get parent(){return this._parent}set parent(e){var o;const t=this._parent;if(this._parent=e,this.coreNode.parent=(o=e==null?void 0:e.coreNode)!=null?o:null,t){const i=t.children.indexOf(this);L(i!==-1,"MainOnlyNode.parent: Node not found in old parent's children!"),t.children.splice(i,1)}e&&e.children.push(this)}get children(){return this._children}get zIndex(){return this.coreNode.zIndex}set zIndex(e){this.coreNode.zIndex=e}get zIndexLocked(){return this.coreNode.zIndexLocked}set zIndexLocked(e){this.coreNode.zIndexLocked=e}get src(){return this._src}set src(e){if(this._src!==e){if(this._src=e,!e){this.texture=null;return}this.texture=this.rendererMain.createTexture("ImageTexture",{src:e})}}get texture(){return this._texture}set texture(e){this._texture!==e&&(this._texture&&this.rendererMain.textureTracker.decrementTextureRefCount(this._texture),e&&this.rendererMain.textureTracker.incrementTextureRefCount(e),this._texture=e,e?this.coreNode.loadTexture(e.txType,e.props,e.options):this.coreNode.unloadTexture())}get shader(){return this._shader}set shader(e){this._shader!==e&&(this._shader=e,e&&this.coreNode.loadShader(e.shType,e.props))}destroy(){this.emit("beforeDestroy",{}),this.parent=null,this.texture=null,this.emit("afterDestroy",{}),this.removeAllListeners()}flush(){}animate(e,t){const o=new uo(this.coreNode,e,t);return new ho(this.stage.animationManager,o)}}class po{constructor(n){d(this,"root");this.root=n}getNodeByType(n){return[]}getNodeById(n){return null}update(n){this.root.update(n)}}const mo=r=>{const n=()=>{r.updateAnimations(),r.drawFrame(),requestAnimationFrame(n)};requestAnimationFrame(n)},xo=()=>performance?performance.now():Date.now();class hr extends mt{constructor(n){super({renderer:n,attributes:["a_position","a_textureCoordinate","a_color"],uniforms:[{name:"u_resolution",uniform:"uniform2fv"},{name:"u_pixelRatio",uniform:"uniform1f"},{name:"u_texture",uniform:"uniform2fv"}]})}bindTextures(n){const{gl:e}=this;e.getParameter(e.TEXTURE_BINDING_2D)!==n[0].ctxTexture&&(e.activeTexture(e.TEXTURE0),e.bindTexture(e.TEXTURE_2D,n[0].ctxTexture))}}d(hr,"shaderSources",{vertex:"\n      # ifdef GL_FRAGMENT_PRESICISON_HIGH\n      precision highp float;\n      # else\n      precision mediump float;\n      # endif\n\n      attribute vec2 a_position;\n      attribute vec2 a_textureCoordinate;\n      attribute vec4 a_color;\n\n      uniform vec2 u_resolution;\n      uniform float u_pixelRatio;\n\n\n      varying vec4 v_color;\n      varying vec2 v_textureCoordinate;\n\n      void main() {\n        vec2 normalized = a_position * u_pixelRatio / u_resolution;\n        vec2 zero_two = normalized * 2.0;\n        vec2 clip_space = zero_two - 1.0;\n\n        // pass to fragment\n        v_color = a_color;\n        v_textureCoordinate = a_textureCoordinate;\n\n        // flip y\n        gl_Position = vec4(clip_space * vec2(1.0, -1.0), 0, 1);\n      }\n    ",fragment:"\n      # ifdef GL_FRAGMENT_PRESICISON_HIGH\n      precision highp float;\n      # else\n      precision mediump float;\n      # endif\n\n      uniform vec2 u_resolution;\n      uniform sampler2D u_texture;\n\n      varying vec4 v_color;\n      varying vec2 v_textureCoordinate;\n\n      void main() {\n          vec4 color = texture2D(u_texture, v_textureCoordinate);\n          gl_FragColor = vec4(v_color) * texture2D(u_texture, v_textureCoordinate);\n      }\n    "});class dr extends mt{constructor(e){super({renderer:e,attributes:["a_position","a_textureCoordinate","a_color","a_textureIndex"],uniforms:[{name:"u_resolution",uniform:"uniform2fv"},{name:"u_pixelRatio",uniform:"uniform1f"},{name:"u_textures[0]",uniform:"uniform1iv"}]});d(this,"supportsIndexedTextures",!0)}bindTextures(e){const{renderer:t,gl:o}=this;if(e.length>t.system.parameters.MAX_VERTEX_TEXTURE_IMAGE_UNITS)throw new Error("DefaultShaderBatched: Cannot bind more than ".concat(t.system.parameters.MAX_VERTEX_TEXTURE_IMAGE_UNITS," textures"));e.forEach((s,l)=>{o.activeTexture(o.TEXTURE0+l),o.bindTexture(o.TEXTURE_2D,s.ctxTexture)});const i=Array.from(Array(e.length).keys());this.setUniform("u_textures[0]",i)}}d(dr,"shaderSources",{vertex:"\n      # ifdef GL_FRAGMENT_PRESICISON_HIGH\n      precision highp float;\n      # else\n      precision mediump float;\n      # endif\n\n      attribute vec2 a_textureCoordinate;\n      attribute vec2 a_position;\n      attribute vec4 a_color;\n      attribute float a_textureIndex;\n      attribute float a_depth;\n\n      uniform vec2 u_resolution;\n      uniform float u_pixelRatio;\n\n      varying vec4 v_color;\n      varying vec2 v_textureCoordinate;\n      varying float v_textureIndex;\n\n      void main(){\n        vec2 normalized = a_position * u_pixelRatio / u_resolution;\n        vec2 zero_two = normalized * 2.0;\n        vec2 clip_space = zero_two - 1.0;\n\n        // pass to fragment\n        v_color = a_color;\n        v_textureCoordinate = a_textureCoordinate;\n        v_textureIndex = a_textureIndex;\n\n        // flip y\n        gl_Position = vec4(clip_space * vec2(1.0, -1.0), 0, 1);\n      }\n    ",fragment:e=>"\n      #define txUnits ".concat(e,"\n      # ifdef GL_FRAGMENT_PRESICISON_HIGH\n      precision highp float;\n      # else\n      precision mediump float;\n      # endif\n\n      uniform vec2 u_resolution;\n      uniform sampler2D u_image;\n      uniform sampler2D u_textures[txUnits];\n\n      varying vec4 v_color;\n      varying vec2 v_textureCoordinate;\n      varying float v_textureIndex;\n\n      vec4 sampleFromTexture(sampler2D textures[").concat(e,"], int idx, vec2 uv) {\n        ").concat(Array.from(Array(e).keys()).map(t=>"\n          ".concat(t!==0?"else ":"","if (idx == ").concat(t,") {\n            return texture2D(textures[").concat(t,"], uv);\n          }\n        ")).join(""),"\n        return texture2D(textures[0], uv);\n      }\n\n      void main(){\n        gl_FragColor = vec4(v_color) * sampleFromTexture(u_textures, int(v_textureIndex), v_textureCoordinate);\n      }\n    ")});class te{constructor(n){d(this,"priority",1);d(this,"name","");d(this,"ref");d(this,"target");d(this,"passParameters","");d(this,"declaredUniforms","");d(this,"uniformInfo",{});const{ref:e,target:t,props:o={}}=n;this.ref=e,this.target=t;const i={},s=[];let l="";const c=this.constructor.uniforms||{};for(const u in c){const h=c[u],f=h.type,v="".concat(e,"_").concat(u);let _="";h.size&&(_="[".concat(h.size(o),"]")),s.push(v),l+="uniform ".concat(f," ").concat(v).concat(_,";"),i[u]={name:v,uniform:c[u].method}}this.passParameters=s.join(","),this.declaredUniforms=l,this.uniformInfo=i}static getEffectKey(n){return""}static getMethodParameters(n,e){const t=[];for(const o in n){const i=n[o];let s="";i.size&&(s="[".concat(i.size(e),"]")),t.push("".concat(i.type," ").concat(o).concat(s))}return t.join(",")}static resolveDefaults(n){return{}}static makeEffectKey(n){return!1}}d(te,"uniforms",{}),d(te,"methods"),d(te,"onShaderMask"),d(te,"onColorize"),d(te,"onEffectMask");const Te=class Te extends mt{constructor(e,t,o){const i=Te.createShader(t,o);super({renderer:e,attributes:["a_position","a_textureCoordinate","a_color"],uniforms:[{name:"u_resolution",uniform:"uniform2fv"},{name:"u_pixelRatio",uniform:"uniform1f"},{name:"u_texture",uniform:"uniform2fv"},{name:"u_dimensions",uniform:"uniform2fv"},{name:"u_alpha",uniform:"uniform1f"},...i.uniforms],shaderSources:{vertex:i.vertex,fragment:i.fragment}});d(this,"effects",[]);this.effects=i.effects}bindTextures(e){const{gl:t}=this;t.activeTexture(t.TEXTURE0),t.bindTexture(t.TEXTURE_2D,e[0].ctxTexture)}bindProps(e){var o;const t=this.renderer.shManager.getRegisteredEffects();(o=e.effects)==null||o.forEach((i,s)=>{var f;const l=this.effects[s],c=t[l.name],u=(f=i.props)!=null?f:{},h=l.uniformInfo;Object.keys(u).forEach(v=>{const _=c.uniforms[v],y=h[v];let x=_.validator?_.validator(u[v],u):u[v];Array.isArray(x)&&(x=new Float32Array(x)),this.setUniform(y.name,x)})})}static createShader(e,t){const o={},i={};let s="";const l=[],c=[],u=e.effects.map(y=>{const x=t[y.type],S=x.getEffectKey(y.props||{});o[S]=o[S]?++o[S]:1;const T=o[S];T===1&&c.push({key:S,type:y.type,props:y.props});const p=new x({ref:"".concat(S).concat(T===1?"":T),target:S,props:y.props});return s+=p.declaredUniforms,l.push(...Object.values(p.uniformInfo)),p});let h="";c==null||c.forEach(y=>{var F;const x=t[y.type],S=x.resolveDefaults((F=y.props)!=null?F:{}),T=[];for(const b in x.methods){let w=b;const R=x.methods[b];i[b]&&i[b]!==R&&(w=Te.resolveMethodDuplicate(b,R,i)),i[w]=R.replace("function",w),T.push({m:b,cm:w})}let p=x.onShaderMask instanceof Function?x.onShaderMask(S):x.onShaderMask,m=x.onColorize instanceof Function?x.onColorize(S):x.onColorize,g=x.onEffectMask instanceof Function?x.onEffectMask(S):x.onEffectMask;T.forEach(b=>{const{m:w,cm:R}=b,k=new RegExp("\\$".concat(w),"g");p&&(p=p.replace(k,R)),m&&(m=m.replace(k,R)),g&&(g=g.replace(k,R))});const C=x.getMethodParameters(x.uniforms,S),E=C.length>0?", ".concat(C):"";p&&(h+="\n        float fx_".concat(y.key,"_onShaderMask(float shaderMask ").concat(E,") {\n          ").concat(p,"\n        }\n        ")),m&&(h+="\n          vec4 fx_".concat(y.key,"_onColorize(float shaderMask, vec4 maskColor, vec4 shaderColor").concat(E,") {\n            ").concat(m,"\n          }\n        ")),g&&(h+="\n          vec4 fx_".concat(y.key,"_onEffectMask(float shaderMask, vec4 maskColor, vec4 shaderColor").concat(E,") {\n            ").concat(g,"\n          }\n        "))});let f="";for(const y in i)f+=i[y];let v="mix(shaderColor, maskColor, clamp(-(lng_DefaultMask), 0.0, 1.0))",_="\n\n    ";for(let y=0;y<u.length;y++){const x=u[y],S=x.passParameters.length>0?", ".concat(x.passParameters):"",T=t[x.name];T.onShaderMask&&(_+="\n        shaderMask = fx_".concat(x.target,"_onShaderMask(shaderMask ").concat(S,");\n        ")),T.onColorize&&(_+="\n        maskColor = fx_".concat(x.target,"_onColorize(shaderMask, maskColor, shaderColor").concat(S,");\n        ")),T.onEffectMask&&(v="fx_".concat(x.target,"_onEffectMask(shaderMask, maskColor, shaderColor").concat(S,")"));const p=u[y+1];(p===void 0||t[p.name].onEffectMask)&&(_+="\n          shaderColor = ".concat(v,";\n        "))}return{effects:u,uniforms:l,fragment:Te.fragment(s,f,h,_),vertex:Te.vertex()}}static resolveMethodDuplicate(e,t,o,i=0){const s=e+(i>0?i:"");return o[s]&&o[s]!==t?this.resolveMethodDuplicate(e,t,o,++i):s}static resolveDefaults(e,t){var o;return{effects:((o=e.effects)!=null?o:[]).map(i=>({type:i.type,props:t[i.type].resolveDefaults(i.props||{})})),$dimensions:{width:0,height:0},$alpha:0}}static makeCacheKey(e,t){var i;let o="";return(i=e.effects)==null||i.forEach(s=>{const c=t[s.type].getEffectKey(s.props||{});o+=",".concat(c)}),"DynamicShader".concat(o)}};d(Te,"z$__type__Props"),d(Te,"vertex",()=>"\n    # ifdef GL_FRAGMENT_PRESICISON_HIGH\n    precision highp float;\n    # else\n    precision mediump float;\n    # endif\n\n    attribute vec2 a_textureCoordinate;\n    attribute vec2 a_position;\n    attribute vec4 a_color;\n    attribute float a_textureIndex;\n\n    uniform vec2 u_resolution;\n    uniform float u_pixelRatio;\n\n    varying vec4 v_color;\n    varying vec2 v_textureCoordinate;\n    varying float v_textureIndex;\n\n    void main(){\n      vec2 normalized = a_position * u_pixelRatio / u_resolution;\n      vec2 zero_two = normalized * 2.0;\n      vec2 clip_space = zero_two - 1.0;\n\n      // pass to fragment\n      v_color = a_color;\n      v_textureCoordinate = a_textureCoordinate;\n      v_textureIndex = a_textureIndex;\n\n      // flip y\n      gl_Position = vec4(clip_space * vec2(1.0, -1.0), 0, 1);\n    }\n  "),d(Te,"fragment",(e,t,o,i)=>"\n    # ifdef GL_FRAGMENT_PRESICISON_HIGH\n    precision highp float;\n    # else\n    precision mediump float;\n    # endif\n\n    #define PI 3.14159265359\n\n    uniform vec2 u_resolution;\n    uniform vec2 u_dimensions;\n    uniform float u_alpha;\n    uniform float u_radius;\n    uniform sampler2D u_texture;\n    uniform float u_pixelRatio;\n\n    ".concat(e,"\n\n    varying vec4 v_color;\n    varying vec2 v_textureCoordinate;\n\n    ").concat(t,"\n\n    ").concat(o,"\n\n    void main() {\n      vec2 p = v_textureCoordinate.xy * u_dimensions - u_dimensions * 0.5;\n      vec2 d = abs(p) - (u_dimensions) * 0.5;\n      float lng_DefaultMask = min(max(d.x, d.y), 0.0) + length(max(d, 0.0));\n\n      vec4 shaderColor = vec4(0.0);\n      float shaderMask = lng_DefaultMask;\n\n      vec4 maskColor = texture2D(u_texture, v_textureCoordinate) * v_color;\n\n      shaderColor = mix(shaderColor, maskColor, clamp(-(lng_DefaultMask + 0.5), 0.0, 1.0));\n\n      ").concat(i,"\n\n      gl_FragColor = shaderColor * u_alpha;\n    }\n  "));let Je=Te;class hn extends mt{constructor(n){super({renderer:n,attributes:["a_position","a_textureCoordinate","a_color"],uniforms:[{name:"u_resolution",uniform:"uniform2fv"},{name:"u_pixelRatio",uniform:"uniform1f"},{name:"u_texture",uniform:"uniform2f"},{name:"u_dimensions",uniform:"uniform2fv"},{name:"u_radius",uniform:"uniform1f"}]})}static resolveDefaults(n){return{radius:n.radius||10,$dimensions:{width:0,height:0}}}bindTextures(n){const{gl:e}=this;e.activeTexture(e.TEXTURE0),e.bindTexture(e.TEXTURE_2D,n[0].ctxTexture)}bindProps(n){this.setUniform("u_radius",n.radius)}canBatchShaderProps(n,e){return n.radius===e.radius&&n.$dimensions.width===e.$dimensions.width&&n.$dimensions.height===e.$dimensions.height}}d(hn,"z$__type__Props"),d(hn,"shaderSources",{vertex:"\n      # ifdef GL_FRAGMENT_PRESICISON_HIGH\n      precision highp float;\n      # else\n      precision mediump float;\n      # endif\n\n      attribute vec2 a_position;\n      attribute vec2 a_textureCoordinate;\n      attribute vec4 a_color;\n      attribute float a_textureIndex;\n      attribute float a_depth;\n\n      uniform vec2 u_resolution;\n      uniform float u_pixelRatio;\n\n      varying vec4 v_color;\n      varying vec2 v_textureCoordinate;\n\n      void main() {\n        vec2 normalized = a_position * u_pixelRatio / u_resolution;\n        vec2 zero_two = normalized * 2.0;\n        vec2 clip_space = zero_two - 1.0;\n\n        // pass to fragment\n        v_color = a_color;\n        v_textureCoordinate = a_textureCoordinate;\n\n        // flip y\n        gl_Position = vec4(clip_space * vec2(1.0, -1.0), 0, 1);\n      }\n    ",fragment:"\n      # ifdef GL_FRAGMENT_PRESICISON_HIGH\n      precision highp float;\n      # else\n      precision mediump float;\n      # endif\n\n      uniform vec2 u_resolution;\n      uniform vec2 u_dimensions;\n      uniform float u_radius;\n      uniform sampler2D u_texture;\n\n      varying vec4 v_color;\n      varying vec2 v_textureCoordinate;\n\n      float boxDist(vec2 p, vec2 size, float radius){\n        size -= vec2(radius);\n        vec2 d = abs(p) - size;\n        return min(max(d.x, d.y), 0.0) + length(max(d, 0.0)) - radius;\n      }\n\n      float fillMask(float dist) {\n        return clamp(-dist, 0.0, 1.0);\n      }\n\n      void main() {\n        vec4 color = texture2D(u_texture, v_textureCoordinate) * v_color;\n        vec2 halfDimensions = u_dimensions * 0.5;\n\n        float d = boxDist(v_textureCoordinate.xy * u_dimensions - halfDimensions, halfDimensions + 0.5, u_radius);\n        gl_FragColor = mix(vec4(0.0), color, fillMask(d));\n      }\n    "});const yo=new Float32Array([1,0,0,0,1,0,0,0,1]),jt=class jt extends mt{constructor(n){super({renderer:n,attributes:["a_position","a_textureCoordinate"],uniforms:[{name:"u_resolution",uniform:"uniform2fv"},{name:"u_transform",uniform:"uniformMatrix3fv"},{name:"u_scrollY",uniform:"uniform1f"},{name:"u_pixelRatio",uniform:"uniform1f"},{name:"u_texture",uniform:"uniform2f"},{name:"u_color",uniform:"uniform4fv"},{name:"u_size",uniform:"uniform1f"},{name:"u_distanceRange",uniform:"uniform1f"},{name:"u_debug",uniform:"uniform1i"}]})}bindTextures(n){const{gl:e}=this;e.activeTexture(e.TEXTURE0),e.bindTexture(e.TEXTURE_2D,n[0].ctxTexture)}bindProps(n){const e=jt.resolveDefaults(n);for(const t in e)if(t==="transform")this.setUniform("u_transform",!1,e[t]);else if(t==="scrollY")this.setUniform("u_scrollY",e[t]);else if(t==="color"){const o=be(e.color);this.setUniform("u_color",o)}else t==="size"?this.setUniform("u_size",e[t]):t==="distanceRange"?this.setUniform("u_distanceRange",e[t]):t==="debug"&&this.setUniform("u_debug",e[t]?1:0)}static resolveDefaults(n={}){var e,t,o,i,s,l;return{transform:(e=n.transform)!=null?e:yo,scrollY:(t=n.scrollY)!=null?t:0,color:(o=n.color)!=null?o:4294967295,size:(i=n.size)!=null?i:16,distanceRange:(s=n.distanceRange)!=null?s:1,debug:(l=n.debug)!=null?l:!1}}};d(jt,"shaderSources",{vertex:"\n      // an attribute is an input (in) to a vertex shader.\n      // It will receive data from a buffer\n      attribute vec2 a_position;\n      attribute vec2 a_textureCoordinate;\n\n      uniform vec2 u_resolution;\n      uniform mat3 u_transform;\n      uniform float u_scrollY;\n      uniform float u_pixelRatio;\n      uniform float u_size;\n\n      varying vec2 v_texcoord;\n\n      void main() {\n        vec2 scrolledPosition = a_position * u_size - vec2(0, u_scrollY);\n        vec2 transformedPosition = (u_transform * vec3(scrolledPosition, 1)).xy;\n        gl_Position = vec4((transformedPosition * u_pixelRatio / u_resolution * 2.0 - 1.0) * vec2(1, -1), 0, 1);\n        v_texcoord = a_textureCoordinate;\n      }\n    ",fragment:"\n      precision highp float;\n\n      uniform vec4 u_color;\n      uniform sampler2D u_texture;\n      uniform float u_distanceRange;\n      uniform float u_pixelRatio;\n      uniform int u_debug;\n\n      varying vec2 v_texcoord;\n\n      float median(float r, float g, float b) {\n          return max(min(r, g), min(max(r, g), b));\n      }\n\n      void main() {\n          vec3 sample = texture2D(u_texture, v_texcoord).rgb;\n          if (u_debug == 1) {\n            gl_FragColor = vec4(sample.r, sample.g, sample.b, 1.0);\n            return;\n          }\n          float scaledDistRange = u_distanceRange * u_pixelRatio;\n          float sigDist = scaledDistRange * (median(sample.r, sample.g, sample.b) - 0.5);\n          float opacity = clamp(sigDist + 0.5, 0.0, 1.0) * u_color.a;\n\n          // Build the final color.\n          // IMPORTANT: We must premultiply the color by the alpha value before returning it.\n          gl_FragColor = vec4(u_color.r * opacity, u_color.g * opacity, u_color.b * opacity, opacity);\n      }\n    "});let dn=jt;class Xe extends te{constructor(){super(...arguments);d(this,"name","radius")}static getEffectKey(){return"radius"}static resolveDefaults(e){var t;return{radius:(t=e.radius)!=null?t:10}}}d(Xe,"z$__type__Props"),d(Xe,"uniforms",{radius:{value:0,method:"uniform4fv",type:"vec4",validator:e=>{let t=e;return Array.isArray(t)?t.length===2?t=[t[0],t[1],t[0],t[1]]:t.length===3?t=[t[0],t[1],t[2],t[0]]:t.length!==4&&(t=[t[0],t[0],t[0],t[0]]):typeof t=="number"&&(t=[t,t,t,t]),t}}}),d(Xe,"methods",{fillMask:"\n      float function(float dist) {\n        return clamp(-dist, 0.0, 1.0);\n      }\n    ",boxDist:"\n      float function(vec2 p, vec2 size, float radius) {\n        size -= vec2(radius);\n        vec2 d = abs(p) - size;\n        return min(max(d.x, d.y), 0.0) + length(max(d, 0.0)) - radius;\n      }\n    "}),d(Xe,"onShaderMask","\n  vec2 halfDimensions = u_dimensions * 0.5;\n  float r = radius[0] * step(v_textureCoordinate.x, 0.5) * step(v_textureCoordinate.y, 0.5);\n  r = r + radius[1] * step(0.5, v_textureCoordinate.x) * step(v_textureCoordinate.y, 0.5);\n  r = r + radius[2] * step(0.5, v_textureCoordinate.x) * step(0.5, v_textureCoordinate.y);\n  r = r + radius[3] * step(v_textureCoordinate.x, 0.5) * step(0.5, v_textureCoordinate.y);\n  return $boxDist(v_textureCoordinate.xy * u_dimensions - halfDimensions, halfDimensions, r);\n  "),d(Xe,"onEffectMask","\n  return mix(vec4(0.0), maskColor, $fillMask(shaderMask));\n  ");class st extends te{constructor(){super(...arguments);d(this,"name","border")}static getEffectKey(){return"border"}static resolveDefaults(e){var t,o;return{width:(t=e.width)!=null?t:10,color:(o=e.color)!=null?o:4294967295}}}d(st,"z$__type__Props"),d(st,"uniforms",{width:{value:0,method:"uniform1f",type:"float"},color:{value:4294967295,validator:e=>be(e),method:"uniform4fv",type:"vec4"}}),d(st,"onEffectMask","\n  float mask = clamp(shaderMask + width, 0.0, 1.0) - clamp(shaderMask, 0.0, 1.0);\n  return mix(shaderColor, maskColor, mask);\n  "),d(st,"onColorize","\n    return color;\n  ");class je extends te{constructor(){super(...arguments);d(this,"name","linearGradient")}static getEffectKey(e){return"linearGradient".concat(e.colors.length)}static resolveDefaults(e){var i,s;const t=(i=e.colors)!=null?i:[4278190080,4294967295];let o=e.stops;if(!o){o=[];const l=t.length-1;for(let c=0;c<t.length;c++)o.push(c*(1/l))}return{colors:t,stops:o,angle:(s=e.angle)!=null?s:0}}}d(je,"z$__type__Props"),d(je,"uniforms",{angle:{value:0,method:"uniform1f",type:"float"},colors:{value:4294967295,validator:e=>e.map(o=>be(o)).reduce((o,i)=>o.concat(i),[]),size:e=>e.colors.length,method:"uniform4fv",type:"vec4"},stops:{value:[],validator:(e,t)=>{var l;const o=(l=t.colors)!=null?l:[];let i=e;const s=e;if(i.length===0||i&&i.length!==o.length){for(let c=0;c<o.length;c++)i[c]?(s[c]=i[c],i[c-1]===void 0&&s[c-2]!==void 0&&(s[c-1]=s[c-2]+(i[c]-s[c-2])/2)):s[c]=c*(1/(o.length-1));i=s}return s},size:e=>e.colors.length,method:"uniform1fv",type:"float"}}),d(je,"methods",{fromLinear:"\n      vec4 function(vec4 linearRGB) {\n        vec4 higher = vec4(1.055)*pow(linearRGB, vec4(1.0/2.4)) - vec4(0.055);\n        vec4 lower = linearRGB * vec4(12.92);\n        return mix(higher, lower, 1.0);\n      }\n    ",toLinear:"\n      vec4 function(vec4 sRGB) {\n        vec4 higher = pow((sRGB + vec4(0.055))/vec4(1.055), vec4(2.4));\n        vec4 lower = sRGB/vec4(12.92);\n        return mix(higher, lower, 1.0);\n      }\n    ",calcPoint:"\n      vec2 function(float d, float angle) {\n        return d * vec2(cos(angle), sin(angle)) + (u_dimensions * 0.5);\n      }\n    "}),d(je,"ColorLoop",e=>{let t="";for(let o=2;o<e;o++)t+="colorOut = mix(colorOut, colors[".concat(o,"], clamp((dist - stops[").concat(o-1,"]) / (stops[").concat(o,"] - stops[").concat(o-1,"]), 0.0, 1.0));");return t}),d(je,"onColorize",e=>{const t=e.colors.length||1;return"\n      float a = angle - (PI / 180.0 * 90.0);\n      float lineDist = abs(u_dimensions.x * cos(a)) + abs(u_dimensions.y * sin(a));\n      vec2 f = $calcPoint(lineDist * 0.5, a);\n      vec2 t = $calcPoint(lineDist * 0.5, a + PI);\n      vec2 gradVec = t - f;\n      float dist = dot(v_textureCoordinate.xy * u_dimensions - f, gradVec) / dot(gradVec, gradVec);\n\n      float stopCalc = (dist - stops[0]) / (stops[1] - stops[0]);\n      vec4 colorOut = $fromLinear(mix($toLinear(colors[0]), $toLinear(colors[1]), stopCalc));\n      for(int i = 1; i < ".concat(t,"-1; i++) {\n        stopCalc = (dist - stops[i]) / (stops[i + 1] - stops[i]);\n        colorOut = mix(colorOut, colors[i + 1], clamp(stopCalc, 0.0, 1.0));\n      }\n      return mix(maskColor, colorOut, clamp(colorOut.a, 0.0, 1.0));\n    ")});class fr extends te{constructor(){super(...arguments);d(this,"name","grayscale")}static getEffectKey(){return"grayscale"}}d(fr,"onColorize","\n    vec3 color = pow(maskColor.rgb, vec3(2.0));\n    float gray = dot(color, vec3(0.2126, 0.7152, 0.0722));\n    float gammaGray = sqrt(gray);\n    return vec4(gammaGray, gammaGray, gammaGray, 1.0);\n  ");class He extends te{constructor(){super(...arguments);d(this,"name","borderRight")}static getEffectKey(){return"borderRight"}static resolveDefaults(e){var t,o;return{width:(t=e.width)!=null?t:10,color:(o=e.color)!=null?o:4294967295}}}d(He,"z$__type__Props"),d(He,"uniforms",{width:{value:0,method:"uniform1f",type:"float"},color:{value:4294967295,validator:e=>be(e),method:"uniform4fv",type:"vec4"}}),d(He,"methods",{fillMask:"\n      float function(float dist) {\n        return clamp(-dist, 0.0, 1.0);\n      }\n    ",rectDist:"\n      float function(vec2 p, vec2 size) {\n        vec2 d = abs(p) - size;\n        return min(max(d.x, d.y), 0.0) + length(max(d, 0.0));\n      }\n    "}),d(He,"onEffectMask","\n  vec2 pos = vec2(u_dimensions.x - width * 0.5, 0.0);\n  float mask = $rectDist(v_textureCoordinate.xy * u_dimensions - pos, vec2(width*0.5, u_dimensions.y));\n  return mix(shaderColor, maskColor, $fillMask(mask));\n  "),d(He,"onColorize","\n    return color;\n  ");class Ge extends te{constructor(){super(...arguments);d(this,"name","borderTop")}static getEffectKey(){return"borderTop"}static resolveDefaults(e){var t,o;return{width:(t=e.width)!=null?t:10,color:(o=e.color)!=null?o:4294967295}}}d(Ge,"z$__type__Props"),d(Ge,"uniforms",{width:{value:0,method:"uniform1f",type:"float"},color:{value:4294967295,validator:e=>be(e),method:"uniform4fv",type:"vec4"}}),d(Ge,"methods",{fillMask:"\n      float function(float dist) {\n        return clamp(-dist, 0.0, 1.0);\n      }\n    ",rectDist:"\n      float function(vec2 p, vec2 size) {\n        vec2 d = abs(p) - size;\n        return min(max(d.x, d.y), 0.0) + length(max(d, 0.0));\n      }\n    "}),d(Ge,"onEffectMask","\n  vec2 pos = vec2(0.0, width * 0.5);\n  float mask = $rectDist(v_textureCoordinate.xy * u_dimensions - pos, vec2(u_dimensions.x, width*0.5));\n  return mix(shaderColor, maskColor, $fillMask(mask));\n  "),d(Ge,"onColorize","\n    return color;\n  ");class Ve extends te{constructor(){super(...arguments);d(this,"name","borderBottom")}static getEffectKey(){return"borderBottom"}static resolveDefaults(e){var t,o;return{width:(t=e.width)!=null?t:10,color:(o=e.color)!=null?o:4294967295}}}d(Ve,"z$__type__Props"),d(Ve,"uniforms",{width:{value:0,method:"uniform1f",type:"float"},color:{value:4294967295,validator:e=>be(e),method:"uniform4fv",type:"vec4"}}),d(Ve,"methods",{fillMask:"\n      float function(float dist) {\n        return clamp(-dist, 0.0, 1.0);\n      }\n    ",rectDist:"\n      float function(vec2 p, vec2 size) {\n        vec2 d = abs(p) - size;\n        return min(max(d.x, d.y), 0.0) + length(max(d, 0.0));\n      }\n    "}),d(Ve,"onEffectMask","\n  vec2 pos = vec2(0.0, u_dimensions.y - width * 0.5);\n  float mask = $rectDist(v_textureCoordinate.xy * u_dimensions - pos, vec2(u_dimensions.x, width*0.5));\n  return mix(shaderColor, maskColor, $fillMask(mask));\n  "),d(Ve,"onColorize","\n    return color;\n  ");class Ke extends te{constructor(){super(...arguments);d(this,"name","borderLeft")}static getEffectKey(){return"borderLeft"}static resolveDefaults(e){var t,o;return{width:(t=e.width)!=null?t:10,color:(o=e.color)!=null?o:4294967295}}}d(Ke,"z$__type__Props"),d(Ke,"uniforms",{width:{value:0,method:"uniform1f",type:"float"},color:{value:4294967295,validator:e=>be(e),method:"uniform4fv",type:"vec4"}}),d(Ke,"methods",{fillMask:"\n      float function(float dist) {\n        return clamp(-dist, 0.0, 1.0);\n      }\n    ",rectDist:"\n      float function(vec2 p, vec2 size) {\n        vec2 d = abs(p) - size;\n        return min(max(d.x, d.y), 0.0) + length(max(d, 0.0));\n      }\n    "}),d(Ke,"onEffectMask","\n  vec2 pos = vec2(width * 0.5, 0.0);\n  float mask = $rectDist(v_textureCoordinate.xy * u_dimensions - pos, vec2(width*0.5, u_dimensions.y));\n  return mix(shaderColor, maskColor, $fillMask(mask));\n  "),d(Ke,"onColorize","\n    return color;\n  ");class at extends te{constructor(){super(...arguments);d(this,"name","glitch")}static getEffectKey(e){return"glitch"}static resolveDefaults(e){var t,o,i,s,l;return{amplitude:(t=e.amplitude)!=null?t:.2,narrowness:(o=e.narrowness)!=null?o:4,blockiness:(i=e.blockiness)!=null?i:2,minimizer:(s=e.minimizer)!=null?s:8,time:(l=e.time)!=null?l:Date.now()}}}d(at,"z$__type__Props"),d(at,"uniforms",{amplitude:{value:0,method:"uniform1f",type:"float"},narrowness:{value:0,method:"uniform1f",type:"float"},blockiness:{value:0,method:"uniform1f",type:"float"},minimizer:{value:0,method:"uniform1f",type:"float"},time:{value:0,method:"uniform1f",validator:e=>(Date.now()-e)%1e3,type:"float"}}),d(at,"methods",{rand:"\n      float function(vec2 p, float time) {\n        float t = floor(time * 20.) / 10.;\n        return fract(sin(dot(p, vec2(t * 12.9898, t * 78.233))) * 43758.5453);\n      }\n    ",noise:"\n      float function(vec2 uv, float blockiness, float time) {\n        vec2 lv = fract(uv);\n        vec2 id = floor(uv);\n\n        float n1 = rand(id, time);\n        float n2 = rand(id+vec2(1,0), time);\n        float n3 = rand(id+vec2(0,1), time);\n        float n4 = rand(id+vec2(1,1), time);\n        vec2 u = smoothstep(0.0, 1.0 + blockiness, lv);\n        return mix(mix(n1, n2, u.x), mix(n3, n4, u.x), u.y);\n      }\n    ",fbm:"\n      float function(vec2 uv, int count, float blockiness, float complexity, float time) {\n        float val = 0.0;\n        float amp = 0.5;\n        const int MAX_ITERATIONS = 10;\n\n        for(int i = 0; i < MAX_ITERATIONS; i++) {\n          if(i >= count) {break;}\n          val += amp * noise(uv, blockiness, time);\n          amp *= 0.5;\n          uv *= complexity;\n        }\n        return val;\n      }\n    "}),d(at,"onColorize","\n    vec2 uv = v_textureCoordinate.xy;\n    float aspect = u_dimensions.x / u_dimensions.y;\n    vec2 a = vec2(uv.x * aspect , uv.y);\n    vec2 uv2 = vec2(a.x / u_dimensions.x, exp(a.y));\n\n    float shift = amplitude * pow($fbm(uv2, 4, blockiness, narrowness, time), minimizer);\n    float colR = texture2D(u_texture, vec2(uv.x + shift, uv.y)).r * (1. - shift);\n    float colG = texture2D(u_texture, vec2(uv.x - shift, uv.y)).g * (1. - shift);\n    float colB = texture2D(u_texture, vec2(uv.x - shift, uv.y)).b * (1. - shift);\n\n    vec3 f = vec3(colR, colG, colB);\n    return vec4(f, texture2D(u_texture, vec2(uv.x - shift, uv.y)).a);\n  ");class It extends te{constructor(){super(...arguments);d(this,"name","fadeOut")}static getEffectKey(){return"fadeOut"}static resolveDefaults(e){var t;return{fade:(t=e.fade)!=null?t:10}}}d(It,"z$__type__Props"),d(It,"uniforms",{fade:{value:0,method:"uniform4fv",type:"vec4",validator:e=>{let t=e;return Array.isArray(t)?t.length===2?t=[t[0],t[1],t[0],t[1]]:t.length===3?t=[t[0],t[1],t[2],t[0]]:t.length!==4&&(t=[t[0],t[0],t[0],t[0]]):typeof t=="number"&&(t=[t,t,t,t]),t}}}),d(It,"onColorize","\n  vec2 point = v_textureCoordinate.xy * u_dimensions.xy;\n  vec2 pos1;\n  vec2 pos2;\n  vec2 d;\n  float c;\n  vec4 result = maskColor;\n\n\n  if(fade[0] > 0.0) {\n    pos1 = vec2(point.x, point.y);\n    pos2 = vec2(point.x, point.y + fade[0]);\n    d = pos2 - pos1;\n    c = dot(pos1, d) / dot(d, d);\n    result = mix(vec4(0.0), result, smoothstep(0.0, 1.0, clamp(c, 0.0, 1.0)));\n  }\n\n  if(fade[1] > 0.0) {\n    pos1 = vec2(point.x - u_dimensions.x - fade[1], v_textureCoordinate.y);\n    pos2 = vec2(point.x - u_dimensions.x, v_textureCoordinate.y);\n    d = pos1 - pos2;\n    c = dot(pos2, d) / dot(d, d);\n    result = mix(vec4(0.0), result, smoothstep(0.0, 1.0, clamp(c, 0.0, 1.0)));\n  }\n\n  if(fade[2] > 0.0) {\n    pos1 = vec2(v_textureCoordinate.x, point.y - u_dimensions.y - fade[2]);\n    pos2 = vec2(v_textureCoordinate.x, point.y - u_dimensions.y);\n    d = pos1 - pos2;\n    c = dot(pos2, d) / dot(d, d);\n    result = mix(vec4(0.0), result, smoothstep(0.0, 1.0, clamp(c, 0.0, 1.0)));\n  }\n\n  if(fade[3] > 0.0) {\n    pos1 = vec2(point.x, point.y);\n    pos2 = vec2(point.x + fade[3], point.y);\n    d = pos2 - pos1;\n    c = dot(pos1, d) / dot(d, d);\n    result = mix(vec4(0.0), result, smoothstep(0.0, 1.0, clamp(c, 0.0, 1.0)));\n  }\n\n  return result;\n  ");class kt extends te{constructor(){super(...arguments);d(this,"name","radialGradient")}static getEffectKey(e){return"radialGradient".concat(e.colors.length)}static resolveDefaults(e){var i,s,l,c,u;const t=(i=e.colors)!=null?i:[4278190080,4294967295];let o=e.stops;if(!o){o=[];const h=t.length-1;for(let f=0;f<t.length;f++)o.push(f*(1/h))}return{colors:t,stops:o,width:(s=e.width)!=null?s:0,height:(c=(l=e.height)!=null?l:e.width)!=null?c:0,pivot:(u=e.pivot)!=null?u:[.5,.5]}}}d(kt,"z$__type__Props"),d(kt,"uniforms",{width:{value:0,method:"uniform1f",type:"float"},height:{value:0,method:"uniform1f",type:"float"},pivot:{value:[.5,.5],method:"uniform2fv",type:"vec2"},colors:{value:4294967295,validator:e=>e.map(o=>be(o)).reduce((o,i)=>o.concat(i),[]),size:e=>e.colors.length,method:"uniform4fv",type:"vec4"},stops:{value:[],validator:(e,t)=>{var l;const o=(l=t.colors)!=null?l:[];let i=e;const s=e;if(i.length===0||i&&i.length!==o.length){for(let c=0;c<o.length;c++)i[c]?(s[c]=i[c],i[c-1]===void 0&&s[c-2]!==void 0&&(s[c-1]=s[c-2]+(i[c]-s[c-2])/2)):s[c]=c*(1/(o.length-1));i=s}return s},size:e=>e.colors.length,method:"uniform1fv",type:"float"}}),d(kt,"onColorize",e=>{const t=e.colors.length||1;return"\n      vec2 point = v_textureCoordinate.xy * u_dimensions;\n      vec2 projection = vec2(pivot.x * u_dimensions.x, pivot.y * u_dimensions.y);\n\n      float dist = length((point - projection) / vec2(width, height));\n\n      float stopCalc = (dist - stops[0]) / (stops[1] - stops[0]);\n      vec4 colorOut = mix(colors[0], colors[1], stopCalc);\n      for(int i = 1; i < ".concat(t,"-1; i++) {\n        stopCalc = (dist - stops[i]) / (stops[i + 1] - stops[i]);\n        colorOut = mix(colorOut, colors[i + 1], clamp(stopCalc, 0.0, 1.0));\n      }\n      return mix(maskColor, colorOut, clamp(colorOut.a, 0.0, 1.0));\n    ")});class qe extends te{constructor(){super(...arguments);d(this,"name","radialProgress")}static getEffectKey(){return"radialProgress"}static resolveDefaults(e){var t,o,i,s,l,c,u;return{width:(t=e.width)!=null?t:10,progress:(o=e.progress)!=null?o:.5,offset:(i=e.offset)!=null?i:0,range:(s=e.range)!=null?s:Math.PI*2,rounded:(l=e.rounded)!=null?l:!1,radius:(c=e.radius)!=null?c:1,color:(u=e.color)!=null?u:4294967295}}}d(qe,"z$__type__Props"),d(qe,"uniforms",{width:{value:0,method:"uniform1f",type:"float"},progress:{value:.5,method:"uniform1f",type:"float"},offset:{value:0,method:"uniform1f",type:"float"},range:{value:0,method:"uniform1f",type:"float"},rounded:{value:0,method:"uniform1f",type:"float",validator:e=>e?1:0},radius:{value:1,method:"uniform1f",type:"float"},color:{value:4294967295,validator:e=>be(e),method:"uniform4fv",type:"vec4"}}),d(qe,"methods",{rotateUV:"\n    vec2 function(vec2 uv, float d) {\n      float s = sin(d);\n      float c = cos(d);\n      mat2 rotMatrix = mat2(c, -s, s, c);\n      return uv * rotMatrix;\n    }\n    ",drawDot:"\n    float function(vec2 uv, vec2 p, float r) {\n      uv += p;\n      float circle = length(uv) - r;\n      return clamp(-circle, 0.0, 1.0);\n    }\n    "}),d(qe,"onEffectMask","\n    float outerRadius = radius * u_dimensions.y * 0.5;\n\n    float endAngle = range * progress - 0.0005;\n\n    vec2 uv = v_textureCoordinate.xy * u_dimensions.xy - u_dimensions * 0.5;\n\n    uv = $rotateUV(uv, -(offset));\n    float linewidth = width * u_pixelRatio;\n    float circle = length(uv) - (outerRadius - linewidth) ;\n    circle = abs(circle) - linewidth;\n    circle = clamp(-circle, 0.0, 1.0);\n\n    float angle = (atan(uv.x, -uv.y) / 3.14159265359 * 0.5);\n    float p = endAngle / (PI * 2.);\n\n    circle *= step(fract(angle), fract(p));\n\n    circle = rounded < 1. ? circle : max(circle, $drawDot(uv, vec2(0, outerRadius - linewidth), linewidth));\n    circle = rounded < 1. ? circle : max(circle, $drawDot($rotateUV(uv, -(endAngle)), vec2(0, outerRadius - linewidth), linewidth));\n\n    return mix(shaderColor, maskColor, circle);\n  "),d(qe,"onColorize","\n    return color;\n  ");class vo{constructor(){d(this,"shCache",new Map);d(this,"shConstructors",{});d(this,"attachedShader",null);d(this,"effectConstructors",{});d(this,"renderer");this.registerShaderType("DefaultShader",hr),this.registerShaderType("DefaultShaderBatched",dr),this.registerShaderType("RoundedRectangle",hn),this.registerShaderType("DynamicShader",Je),this.registerShaderType("SdfShader",dn),this.registerEffectType("border",st),this.registerEffectType("borderBottom",Ve),this.registerEffectType("borderLeft",Ke),this.registerEffectType("borderRight",He),this.registerEffectType("borderTop",Ge),this.registerEffectType("fadeOut",It),this.registerEffectType("linearGradient",je),this.registerEffectType("radialGradient",kt),this.registerEffectType("grayscale",fr),this.registerEffectType("glitch",at),this.registerEffectType("radius",Xe),this.registerEffectType("radialProgress",qe)}registerShaderType(n,e){this.shConstructors[n]=e}registerEffectType(n,e){this.effectConstructors[n]=e}getRegisteredEffects(){return this.effectConstructors}getRegisteredShaders(){return this.shConstructors}loadShader(n,e){if(!this.renderer)throw new Error("Renderer is not been defined");const t=this.shConstructors[n];if(!t)throw new Error('Shader type "'.concat(n,'" is not registered'));if(n==="DynamicShader")return this.loadDynamicShader(e);const o=t.resolveDefaults(e),i=t.makeCacheKey(o)||t.name;if(i&&this.shCache.has(i))return{shader:this.shCache.get(i),props:o};const s=new t(this.renderer,e);return i&&this.shCache.set(i,s),{shader:s,props:o}}loadDynamicShader(n){if(!this.renderer)throw new Error("Renderer is not been defined");const e=Je.resolveDefaults(n,this.effectConstructors),t=Je.makeCacheKey(e,this.effectConstructors);if(t&&this.shCache.has(t))return{shader:this.shCache.get(t),props:e};const o=new Je(this.renderer,n,this.effectConstructors);return t&&this.shCache.set(t,o),{shader:o,props:e}}useShader(n){this.attachedShader!==n&&(this.attachedShader&&this.attachedShader.detach(),n.attach(),this.attachedShader=n)}}class wo{constructor(){d(this,"activeAnimations",new Set)}registerAnimation(n){this.activeAnimations.add(n)}unregisterAnimation(n){this.activeAnimations.delete(n)}update(n){this.activeAnimations.forEach(e=>{e.update(n)})}}const dt=class dt extends qn{constructor(e,t){super(e);d(this,"props");this.props=dt.resolveDefaults(t)}async getTextureData(){const{src:e,premultiplyAlpha:t}=this.props;if(!e)return{data:null};if(e instanceof ImageData)return{data:e,premultiplyAlpha:t};const i=await(await fetch(e)).blob();return{data:await createImageBitmap(i,{premultiplyAlpha:t?"premultiply":"none",colorSpaceConversion:"none",imageOrientation:"none"})}}static makeCacheKey(e){const t=dt.resolveDefaults(e);return t.src instanceof ImageData?!1:"ImageTexture,".concat(t.src,",").concat(t.premultiplyAlpha)}static resolveDefaults(e){var t,o;return{src:(t=e.src)!=null?t:"",premultiplyAlpha:(o=e.premultiplyAlpha)!=null?o:!0}}};d(dt,"z$__type__Props");let fn=dt;const ft=class ft extends qn{constructor(e,t){super(e);d(this,"props");this.props=ft.resolveDefaults(t)}async getTextureData(){const{width:e,height:t}=this.props,o=e*t*4,i=new Uint8ClampedArray(o);for(let s=0;s<o;s+=4){const l=Math.floor(Math.random()*256);i[s]=l,i[s+1]=l,i[s+2]=l,i[s+3]=255}return{data:new ImageData(i,e,t)}}static makeCacheKey(e){const t=ft.resolveDefaults(e);return"NoiseTexture,".concat(t.width,",").concat(t.height,",").concat(t.cacheId)}static resolveDefaults(e){var t,o,i;return{width:(t=e.width)!=null?t:128,height:(o=e.height)!=null?o:128,cacheId:(i=e.cacheId)!=null?i:0}}};d(ft,"z$__type__Props");let gn=ft;class _o{constructor(){d(this,"usedMemory",0);d(this,"txConstructors",{});d(this,"textureKeyCache",new Map);d(this,"textureIdCache",new Map);d(this,"ctxTextureCache",new WeakMap);d(this,"textureRefCountMap",new WeakMap);d(this,"renderer");this.registerTextureType("ImageTexture",fn),this.registerTextureType("ColorTexture",Nr),this.registerTextureType("NoiseTexture",gn),this.registerTextureType("SubTexture",$r)}registerTextureType(n,e){this.txConstructors[n]=e}loadTexture(n,e,t=null){var s;const o=this.txConstructors[n];if(!o)throw new Error('Texture type "'.concat(n,'" is not registered'));let i;if((t==null?void 0:t.id)!==void 0&&this.textureIdCache.has(t.id)&&(i=this.textureIdCache.get(t.id)),!i){const l=t==null?void 0:t.id,c=(s=t==null?void 0:t.cacheKey)!=null?s:o.makeCacheKey(e);c&&this.textureKeyCache.has(c)?i=this.textureKeyCache.get(c):i=new o(this,e),l&&this.addTextureIdToCache(l,c,i)}return t!=null&&t.preload&&this.getCtxTexture(i).load(),i}addTextureIdToCache(n,e,t){const{textureIdCache:o,textureRefCountMap:i}=this;o.set(n,t),i.has(t)?i.get(t).count++:(i.set(t,{cacheKey:e,count:1}),e&&this.textureKeyCache.set(e,t))}removeTextureIdFromCache(n){const{textureIdCache:e,textureRefCountMap:t}=this,o=e.get(n);if(o&&(e.delete(n),t.has(o))){const i=t.get(o);L(i),i.count--,i.count===0&&(t.delete(o),i.cacheKey&&this.textureKeyCache.delete(i.cacheKey))}}getDebugInfo(){return{keyCacheSize:this.textureKeyCache.size,idCacheSize:this.textureIdCache.size}}getCtxTexture(n){if(this.ctxTextureCache.has(n))return this.ctxTextureCache.get(n);const e=this.renderer.createCtxTexture(n);return this.ctxTextureCache.set(n,e),e}}class gr{constructor(n){d(this,"textRenderers");this.textRenderers=n}addFontFace(n){for(const e in this.textRenderers){const t=this.textRenderers[e];t&&t.isFontFaceSupported(n)&&t.addFontFace(n)}}static resolveFontFace(n,e){const t=[];return n.reduce((i,s)=>{if(i)return i;const l=s[e.fontFamily];if(!l)return;const c=new Set(l);for(const u of c)(u.descriptors.stretch!==e.fontStretch||u.descriptors.style!==e.fontStyle||u.descriptors.weight!==e.fontWeight)&&c.delete(u);return c.values().next().value},void 0)||t[0]}}const So={x:(r,n)=>{r.props.x=n},y:(r,n)=>{r.props.y=n},width:(r,n)=>{r.props.width=n},height:(r,n)=>{r.props.height=n},color:(r,n)=>{r.props.color=n},zIndex:(r,n)=>{r.props.zIndex=n},fontFamily:(r,n)=>{r.props.fontFamily=n},fontWeight:(r,n)=>{r.props.fontWeight=n},fontStyle:(r,n)=>{r.props.fontStyle=n},fontStretch:(r,n)=>{r.props.fontStretch=n},fontSize:(r,n)=>{r.props.fontSize=n},text:(r,n)=>{r.props.text=n},textAlign:(r,n)=>{r.props.textAlign=n},contain:(r,n)=>{r.props.contain=n},offsetY:(r,n)=>{r.props.offsetY=n},scrollable:(r,n)=>{r.props.scrollable=n},scrollY:(r,n)=>{r.props.scrollY=n},letterSpacing:(r,n)=>{r.props.letterSpacing=n},debug:(r,n)=>{r.props.debug=n}};class pr{constructor(n){d(this,"stage");d(this,"set");this.stage=n;const e={...So,...this.getPropertySetters()};this.set=Object.freeze(Object.fromEntries(Object.entries(e).map(([t,o])=>[t,(i,s)=>{i.props[t]!==s&&o(i,s)}])))}setStatus(n,e,t){n.status!==e&&(n.status=e,n.emitter.emit(e,t))}scheduleUpdateState(n){n.updateScheduled||(n.updateScheduled=!0,queueMicrotask(()=>{n.updateScheduled=!1,this.updateState(n)}))}}const bo=24;function To(r,n,e,t,o,i,s){let l=0;o&&(l=Math.min(Math.max(Math.floor(o.y1/r),0),i.length));const c=0,u=n/e+l*t;if(!(s&&u>=s/e))return{x:c,y:u,lineIndex:l}}class Lt{constructor(n,e=0){d(this,"iterator");d(this,"peekBuffer",[]);d(this,"_lastIndex");this.iterator=n,this.iterator=n,this._lastIndex=e-1,this.peekBuffer=[]}next(){const n=this.peekBuffer.length>0?this.peekBuffer.pop():this.iterator.next();return n.done?this._lastIndex=-1:this._lastIndex++,n}peek(){if(this.peekBuffer.length>0)return this.peekBuffer[0];const n=this.iterator.next();return this.peekBuffer.push(n),n}get lastIndex(){return this._lastIndex}}function*zt(r,n=0){let e=n;for(;e<r.length;){const t=r.codePointAt(e);if(t===void 0)throw new Error("Invalid Unicode code point");yield t,e+=t<=65535?1:2}}function Co(r,n,e){const t=e.shapeText(n,new Lt(zt(r,0),0));let o=0;for(const i of t)i.mapped&&(o+=i.xAdvance);return o}function Ro(r,n,e,t,o,i,s,l,c,u,h,f,v,_,y,x){L(_,"Font face must be loaded"),L(_.loaded,"Font face must be loaded"),L(_.data,"Font face must be loaded"),L(_.shaper,"Font face must be loaded");const S=_.data.info.size,T=l/S,p=i/T,m=c/T,g=f[r],C=(g==null?void 0:g.codepointIndex)||0,E=(g==null?void 0:g.maxX)||0,F=(g==null?void 0:g.maxY)||0;let b=E,w=F,R=n,k=e,I=0;const A={codepointIndex:-1,bufferOffset:-1,xStart:-1},O=_.shaper,W={letterSpacing:m};let ee=O.shapeText(W,new Lt(zt(t,C),C)),q,le=-1;const Fe=[],nt="...",wt=s/T,_t=Co(nt,W,O);let Me=!0;for(;Me;){const xe=h!=="both"||x||k+S+S<=wt,he=xe?p:p-_t;let Q=0;for(;(q=ee.next())&&!q.done;){const D=q.value;if(r===f.length)f.push({codepointIndex:D.cluster,maxY:w,maxX:b});else if(r>f.length)throw new Error("Unexpected lineCache length");if(D.codepoint===32||D.codepoint===10?A.codepointIndex!==-1&&(A.codepointIndex=-1,Q=R):A.codepointIndex===-1&&(A.codepointIndex=D.cluster,A.bufferOffset=I,A.xStart=Q),D.mapped){const Ie=R+D.xOffset+D.width;if(h!=="none"&&Ie>=he&&A.codepointIndex!==-1&&A.codepointIndex<D.cluster&&A.xStart>0)if(xe){ee=O.shapeText(W,new Lt(zt(t,A.codepointIndex),A.codepointIndex)),I=A.bufferOffset;break}else ee=O.shapeText(W,new Lt(zt(nt,0),0)),R=A.xStart,I=A.bufferOffset;else{const ie=R+D.xOffset,ke=k+D.yOffset,St=v?k+S>=v.y1/T:!0,bt=v?k<=v.y2/T:!0;if(St&&bt){le===-1&&(le=I);const Ne=_.getAtlasEntry(D.glyphId),$e=Ne.x/_.data.common.scaleW,Be=Ne.y/_.data.common.scaleH,rt=Ne.width/_.data.common.scaleW,Ln=Ne.height/_.data.common.scaleH;u[I++]=ie,u[I++]=ke,u[I++]=$e,u[I++]=Be,u[I++]=ie+D.width,u[I++]=ke,u[I++]=$e+rt,u[I++]=Be,u[I++]=ie,u[I++]=ke+D.height,u[I++]=$e,u[I++]=Be+Ln,u[I++]=ie+D.width,u[I++]=ke+D.height,u[I++]=$e+rt,u[I++]=Be+Ln}w=Math.max(w,ke+D.height),R+=D.xAdvance,b=Math.max(b,R)}}else if(D.codepoint===10)break}le!==-1&&(Fe.push({bufferStart:le,bufferEnd:I}),le=-1),R=0,k+=S,r++,A.codepointIndex=-1,Q=0,(!y&&h==="both"&&v&&k>v.y2/T||q&&q.done||h==="both"&&!x&&!xe)&&(Me=!1)}if(o==="center"){const xe=h==="none"?b:p;for(let he=0;he<Fe.length;he++){const Q=Fe[he],D=u[Q.bufferEnd-4]-u[Q.bufferStart],Ie=(xe-D)/2;for(let ie=Q.bufferStart;ie<Q.bufferEnd;ie+=4)u[ie]+=Ie}}else if(o==="right"){const xe=h==="none"?b:p;for(let he=0;he<Fe.length;he++){const Q=Fe[he],D=Q.bufferEnd===Q.bufferStart?0:u[Q.bufferEnd-4]-u[Q.bufferStart],Ie=xe-D;for(let ie=Q.bufferStart;ie<Q.bufferEnd;ie+=4)u[ie]+=Ie}}return L(q),{bufferNumFloats:I,bufferNumQuads:I/16,layoutNumCharacters:q.done?t.length-C:q.value.cluster-C+1,fullyProcessed:!!q.done,maxX:b,maxY:w}}function Eo(r,n,e,t,o,i){const s=t*o,l=i.x1-r,c=i.y1-n;return Br(i)?{x1:l,y1:c+e-s,x2:l+(i.x2-i.x1),y2:c+e+(i.y2-i.y1)+s}:{x1:0,y1:0,x2:0,y2:0}}const Fo=Ht(0,0,0,0);class Io extends pr{constructor(e){super(e);d(this,"ssdfFontFamilies",{});d(this,"msdfFontFamilies",{});d(this,"sdfShader");d(this,"rendererBounds");this.sdfShader=this.stage.shManager.loadShader("SdfShader").shader,this.rendererBounds={x1:0,y1:0,x2:this.stage.options.appWidth,y2:this.stage.options.appHeight}}getPropertySetters(){return{fontFamily:(e,t)=>{e.props.fontFamily=t,e.trFontFace=void 0,this.invalidateLayoutCache(e)},fontWeight:(e,t)=>{e.props.fontWeight=t,e.trFontFace=void 0,this.invalidateLayoutCache(e)},fontStyle:(e,t)=>{e.props.fontStyle=t,e.trFontFace=void 0,this.invalidateLayoutCache(e)},fontStretch:(e,t)=>{e.props.fontStretch=t,e.trFontFace=void 0,this.invalidateLayoutCache(e)},fontSize:(e,t)=>{e.props.fontSize=t,this.invalidateLayoutCache(e)},text:(e,t)=>{e.props.text=t,this.invalidateLayoutCache(e)},textAlign:(e,t)=>{e.props.textAlign=t,this.invalidateLayoutCache(e)},color:(e,t)=>{e.props.color=t},x:(e,t)=>{e.props.x=t,this.invalidateVisibleWindowCache(e)},y:(e,t)=>{e.props.y=t,this.invalidateVisibleWindowCache(e)},contain:(e,t)=>{e.props.contain=t,this.invalidateLayoutCache(e)},width:(e,t)=>{e.props.width=t,this.invalidateLayoutCache(e)},height:(e,t)=>{e.props.height=t,this.invalidateLayoutCache(e)},offsetY:(e,t)=>{e.props.offsetY=t,this.invalidateLayoutCache(e)},scrollable:(e,t)=>{e.props.scrollable=t,this.invalidateLayoutCache(e)},scrollY:(e,t)=>{e.props.scrollY=t,this.scheduleUpdateState(e)},letterSpacing:(e,t)=>{e.props.letterSpacing=t,this.invalidateLayoutCache(e)},debug:(e,t)=>{e.props.debug=t}}}canRenderFont(e){const{fontFamily:t}=e;return t in this.ssdfFontFamilies||t in this.msdfFontFamilies||t==="$$SDF_FAILURE_TEST$$"}isFontFaceSupported(e){return e instanceof An}addFontFace(e){L(e instanceof An);const t=e.fontFamily,o=e.type==="ssdf"?this.ssdfFontFamilies:e.type==="msdf"?this.msdfFontFamilies:void 0;if(!o){console.warn("Invalid font face type: ".concat(e.type));return}let i=o[t];i||(i=new Set,o[t]=i),i.add(e)}createState(e){return{props:e,status:"initialState",updateScheduled:!1,emitter:new We,lineCache:[],forceFullLayoutCalc:!1,renderWindow:void 0,visibleWindow:{x1:0,y1:0,x2:0,y2:0,valid:!1},bufferNumFloats:0,bufferNumQuads:0,vertexBuffer:void 0,webGlBuffers:null,bufferUploaded:!1,textH:void 0,textW:void 0,distanceRange:0,trFontFace:void 0,debugData:{updateCount:0,layoutCount:0,lastLayoutNumCharacters:0,layoutSum:0,drawSum:0,drawCount:0,bufferSize:0}}}updateState(e){let{trFontFace:t}=e;const{textH:o,lineCache:i,debugData:s,forceFullLayoutCalc:l}=e;if(s.updateCount++,e.status==="initialState"&&this.setStatus(e,"loading"),!t&&(t=this.resolveFontFace(e.props),e.trFontFace=t,!t)){const I="SdfTextRenderer: Could not resolve font face for family: '".concat(e.props.fontFamily,"'");console.error(I),this.setStatus(e,"failed",new Error(I));return}if(!t.loaded){t.once("loaded",()=>{this.scheduleUpdateState(e)});return}L(t.data,"Font face data should be loaded");const{text:c,fontSize:u,x:h,y:f,contain:v,width:_,height:y,scrollable:x}=e.props,S=v==="both"&&x?e.props.scrollY:0;let{renderWindow:T}=e;const p=t.data.info.size,m=u/p;e.distanceRange=m*t.data.distanceField.distanceRange;const g=c.length*bo;let C=e.vertexBuffer;(!C||C.length<g)&&(C=new Float32Array(g*2));const E=e.visibleWindow;if(!E.valid){const I=Ht(h,f,v!=="none"?h+_:1/0,v==="both"?f+y:1/0,Fo);Qn(this.rendererBounds,I,e.visibleWindow),E.valid=!0}if(!l&&T){if(h+T.x1<=E.x1&&h+T.x2>=E.x2&&f-S+T.y1<=E.y1&&f-S+T.y2>=E.y2){this.setStatus(e,"loaded");return}T=e.renderWindow=void 0,this.setStatus(e,"loading")}const{offsetY:F,textAlign:b}=e.props;if(!T){const I=E.y2-E.y1,A=Math.ceil(I/p);T=Eo(h,f,S,p,A,E)}const w=To(u,F,m,p,T,i,o);if(!w){this.setStatus(e,"loaded");return}const{letterSpacing:R}=e.props,k=Ro(w.lineIndex,w.x,w.y,c,b,_,y,u,R,C,v,i,T,t,l,x);e.bufferUploaded=!1,e.bufferNumFloats=k.bufferNumFloats,e.bufferNumQuads=k.bufferNumQuads,e.vertexBuffer=C,e.renderWindow=T,s.lastLayoutNumCharacters=k.layoutNumCharacters,s.bufferSize=C.byteLength,k.fullyProcessed&&(e.textW=k.maxX*m,e.textH=k.maxY*m),this.setStatus(e,"loaded")}renderQuads(e,t,o,i){var b,w,R;if(!e.vertexBuffer)return;performance.now();const{renderer:s}=this.stage;this.stage.options;const{fontSize:l,color:c,contain:u,scrollable:h,zIndex:f,debug:v}=e.props,_=u==="both"&&h?e.props.scrollY:0,{textW:y=0,textH:x=0,distanceRange:S,vertexBuffer:T,bufferUploaded:p,trFontFace:m}=e;let{webGlBuffers:g}=e;if(!g){const k=s.gl,I=4*Float32Array.BYTES_PER_ELEMENT,A=k.createBuffer();L(A),e.webGlBuffers=new Dr([{buffer:A,attributes:{a_position:{name:"a_position",size:2,type:k.FLOAT,normalized:!1,stride:I,offset:0},a_textureCoordinate:{name:"a_textureCoordinate",size:2,type:k.FLOAT,normalized:!1,stride:I,offset:2*Float32Array.BYTES_PER_ELEMENT}}}]),e.bufferUploaded=!1,L(e.webGlBuffers),g=e.webGlBuffers}if(!p){const k=s.gl,I=(b=g==null?void 0:g.getBuffer("a_textureCoordinate"))!=null?b:null;k.bindBuffer(k.ARRAY_BUFFER,I),k.bufferData(k.ARRAY_BUFFER,T,k.STATIC_DRAW),e.bufferUploaded=!0}L(m);const C=new Or(s.gl,s.options,g,this.sdfShader,{transform:t.data,color:Yr(c,i),size:l/(((w=m.data)==null?void 0:w.info.size)||0),scrollY:_,distanceRange:S,debug:v.sdfShaderDebug},i,o,{height:x,width:y},0,f),E=(R=e.trFontFace)==null?void 0:R.texture;L(E);const F=this.stage.txManager.getCtxTexture(E);C.addTexture(F),C.length=e.bufferNumFloats,C.numQuads=e.bufferNumQuads,s.addRenderOp(C)}resolveFontFace(e){return gr.resolveFontFace([this.msdfFontFamilies,this.ssdfFontFamilies],e)}invalidateVisibleWindowCache(e){e.visibleWindow.valid=!1,this.scheduleUpdateState(e)}invalidateLayoutCache(e){e.visibleWindow.valid=!1,e.renderWindow=void 0,e.textH=void 0,e.textW=void 0,e.lineCache=[],this.setStatus(e,"loading"),this.scheduleUpdateState(e)}}const Nn=2048;class ko{constructor(n,e){d(this,"_canvas");d(this,"_context");d(this,"_settings");d(this,"renderInfo");this._canvas=n,this._context=e,this._settings=this.mergeDefaults({})}set settings(n){this._settings=this.mergeDefaults(n)}get settings(){return this._settings}getPrecision(){return this._settings.precision}setFontProperties(){this._context.font=this._getFontSetting(),this._context.textBaseline=this._settings.textBaseline}_getFontSetting(){const n=[this._settings.fontFace],e=[];for(let t=0,o=n.length;t<o;t++)n[t]==="serif"||n[t]==="sans-serif"?e.push(n[t]):e.push('"'.concat(n[t],'"'));return"".concat(this._settings.fontStyle," ").concat(this._settings.fontSize*this.getPrecision(),"px ").concat(e.join(","))}_load(){if(document.fonts){const n=this._getFontSetting();try{if(!document.fonts.check(n,this._settings.text))return document.fonts.load(n,this._settings.text).catch(e=>{console.warn("[Lightning] Font load error",e,n)}).then(()=>{document.fonts.check(n,this._settings.text)||console.warn("[Lightning] Font not found",n)})}catch(e){console.warn("[Lightning] Can't check font loading for "+n)}}}calculateRenderInfo(){const n={},e=this.getPrecision(),t=this._settings.paddingLeft*e,o=this._settings.paddingRight*e,i=this._settings.fontSize*e;let s=this._settings.offsetY===null?null:this._settings.offsetY*e,l=(this._settings.lineHeight||i)*e;const c=this._settings.w*e,u=this._settings.h*e;let h=this._settings.wordWrapWidth*e;const f=this._settings.cutSx*e,v=this._settings.cutEx*e,_=this._settings.cutSy*e,y=this._settings.cutEy*e,x=(this._settings.letterSpacing||0)*e,S=this._settings.textIndent*e;this.setFontProperties();let T=c||2048/this.getPrecision(),p=T-t;if(p<10&&(T+=10-p,p=10),h||(h=p),this._settings.textOverflow&&!this._settings.wordWrap){let b;switch(this._settings.textOverflow){case"clip":b="";break;case"ellipsis":b=this._settings.maxLinesSuffix;break;default:b=this._settings.textOverflow}this._settings.text=this.wrapWord(this._settings.text,h-S,b)}let m;if(this._settings.wordWrap)m=this.wrapText(this._settings.text,h,x,S);else{m={l:this._settings.text.split(/(?:\r\n|\r|\n)/),n:[]};const b=m.l.length;for(let w=0;w<b-1;w++)m.n.push(w)}let g=m.l;if(this._settings.maxLines&&g.length>this._settings.maxLines){const b=g.slice(0,this._settings.maxLines);let w=null;if(this._settings.maxLinesSuffix){const O=this._settings.maxLinesSuffix?this.measureText(this._settings.maxLinesSuffix):0,W=this.wrapText(b[b.length-1],h-O,x,S);b[b.length-1]="".concat(W.l[0]).concat(this._settings.maxLinesSuffix),w=[W.l.length>1?W.l[1]:""]}else w=[""];let R;const k=g.length;let I=0;const A=m.n.length;for(R=this._settings.maxLines;R<k;R++)w[I]+="".concat(w[I]?" ":"").concat(g[R]),R+1<A&&m.n[R+1]&&I++;n.remainingText=w.join("\n"),n.moreTextLines=!0,g=b}else n.moreTextLines=!1,n.remainingText="";let C=0;const E=[];for(let b=0;b<g.length;b++){const w=this.measureText(g[b],x)+(b===0?S:0);E.push(w),C=Math.max(C,w)}n.lineWidths=E,c||(T=C+t+o,p=C),l=l||i;let F;if(u)F=u;else{const b=this._settings.textBaseline!="bottom"?.5*i:0;F=l*(g.length-1)+b+Math.max(l,i)+(s||0)}return s===null&&(s=i),n.w=T,n.h=F,n.lines=g,n.precision=e,T||(T=1),F||(F=1),(f||v)&&(T=Math.min(T,v-f)),(_||y)&&(F=Math.min(F,y-_)),n.width=T,n.innerWidth=p,n.height=F,n.fontSize=i,n.cutSx=f,n.cutSy=_,n.cutEx=v,n.cutEy=y,n.lineHeight=l,n.lineWidths=E,n.offsetY=s,n.paddingLeft=t,n.paddingRight=o,n.letterSpacing=x,n.textIndent=S,n}draw(n,e){const t=this.getPrecision(),o=(e==null?void 0:e.lines)||n.lines,i=(e==null?void 0:e.lineWidths)||n.lineWidths,s=e?e.lines.length*n.lineHeight:n.height;this._canvas.width=Math.min(Math.ceil(n.width+this._settings.textRenderIssueMargin),Nn),this._canvas.height=Math.min(Math.ceil(s),Nn),this.setFontProperties(),n.fontSize>=128&&(this._context.globalAlpha=.01,this._context.fillRect(0,0,.01,.01),this._context.globalAlpha=1),(n.cutSx||n.cutSy)&&this._context.translate(-n.cutSx,-n.cutSy);let l,c;const u=[];for(let f=0,v=o.length;f<v;f++)l=f===0?n.textIndent:0,c=f*n.lineHeight+n.offsetY,this._settings.verticalAlign=="middle"?c+=(n.lineHeight-n.fontSize)/2:this._settings.verticalAlign=="bottom"&&(c+=n.lineHeight-n.fontSize),this._settings.textAlign==="right"?l+=n.innerWidth-i[f]:this._settings.textAlign==="center"&&(l+=(n.innerWidth-i[f])/2),l+=n.paddingLeft,u.push({text:o[f],x:l,y:c,w:i[f]});if(this._settings.highlight){const f=this._settings.highlightColor,v=this._settings.highlightHeight*t||n.fontSize*1.5,_=this._settings.highlightOffset*t,y=this._settings.highlightPaddingLeft!==null?this._settings.highlightPaddingLeft*t:n.paddingLeft,x=this._settings.highlightPaddingRight!==null?this._settings.highlightPaddingRight*t:n.paddingRight;this._context.fillStyle=Zt(f);for(let S=0;S<u.length;S++){const T=u[S];this._context.fillRect(T.x-y,T.y-n.offsetY+_,T.w+x+y,v)}}let h=null;this._settings.shadow&&(h=[this._context.shadowColor,this._context.shadowOffsetX,this._context.shadowOffsetY,this._context.shadowBlur],this._context.shadowColor=Zt(this._settings.shadowColor),this._context.shadowOffsetX=this._settings.shadowOffsetX*t,this._context.shadowOffsetY=this._settings.shadowOffsetY*t,this._context.shadowBlur=this._settings.shadowBlur*t),this._context.fillStyle=Zt(this._settings.textColor);for(let f=0,v=u.length;f<v;f++){const _=u[f];if(n.letterSpacing===0)this._context.fillText(_.text,_.x,_.y);else{const y=_.text.split("");let x=_.x;for(let S=0,T=y.length;S<T;S++)this._context.fillText(y[S],x,_.y),x+=this.measureText(y[S],n.letterSpacing)}}h&&(this._context.shadowColor=h[0],this._context.shadowOffsetX=h[1],this._context.shadowOffsetY=h[2],this._context.shadowBlur=h[3]),(n.cutSx||n.cutSy)&&this._context.translate(n.cutSx,n.cutSy),this.renderInfo=n}wrapWord(n,e,t){const o=this._context.measureText(t).width,i=n.length,s=this._context.measureText(n).width;if(s<=e)return n;let l=Math.floor(e*i/s),c=this._context.measureText(n.substring(0,l)).width+o;if(c>e)for(;l>0&&(c=this._context.measureText(n.substring(0,l)).width+o,c>e);)l-=1;else for(;l<i;)if(c=this._context.measureText(n.substring(0,l)).width+o,c<e)l+=1;else{l-=1;break}return n.substring(0,l)+(e>=o?t:"")}wrapText(n,e,t,o=0){const i=n.split(/\r?\n/g);let s=[];const l=[];for(let c=0;c<i.length;c++){const u=[];let h="",f=e-o;const v=i[c].split(" ");for(let _=0;_<v.length;_++){const y=this.measureText(v[_],t),x=y+this.measureText(" ",t);_===0||x>f?(_>0&&(u.push(h),h=""),h+=v[_],f=e-y-(_===0?o:0)):(f-=x,h+=" ".concat(v[_]))}u.push(h),h="",s=s.concat(u),c<i.length-1&&l.push(s.length)}return{l:s,n:l}}measureText(n,e=0){return e?n.split("").reduce((t,o)=>t+this._context.measureText(o).width+e,0):this._context.measureText(n).width}mergeDefaults(n){return{text:"",w:0,h:0,fontStyle:"normal",fontSize:40,fontFace:null,wordWrap:!0,wordWrapWidth:0,wordBreak:!1,textOverflow:"",lineHeight:null,textBaseline:"alphabetic",textAlign:"left",verticalAlign:"top",offsetY:null,maxLines:0,maxLinesSuffix:"..",textColor:[1,1,1,1],paddingLeft:0,paddingRight:0,shadow:!1,shadowColor:[0,0,0,1],shadowOffsetX:0,shadowOffsetY:0,shadowBlur:5,highlight:!1,highlightHeight:0,highlightColor:[0,0,0,1],highlightOffset:0,highlightPaddingLeft:0,highlightPaddingRight:0,letterSpacing:0,textIndent:0,cutSx:0,cutEx:0,cutSy:0,cutEy:0,advancedRenderer:!1,fontBaselineRatio:0,precision:1,textRenderIssueMargin:0,...n}}}const $n=typeof self>"u"?globalThis:self;var Vn;const Bn=((Vn=$n.document)==null?void 0:Vn.fonts)||$n.fonts;function Lo(r){const{fontFamily:n,fontStyle:e,fontWeight:t,fontStretch:o,fontSize:i}=r;return[e,t,o,"".concat(i,"px"),n].join(" ")}const zo=Ht(0,0,0,0);class Ao extends pr{constructor(e){super(e);d(this,"canvas");d(this,"context");d(this,"rendererBounds");typeof OffscreenCanvas<"u"?this.canvas=new OffscreenCanvas(0,0):this.canvas=document.createElement("canvas");let t=this.canvas.getContext("2d");t||(this.canvas=document.createElement("canvas"),t=this.canvas.getContext("2d")),L(t),this.context=t,this.rendererBounds={x1:0,y1:0,x2:this.stage.options.appWidth,y2:this.stage.options.appHeight}}getPropertySetters(){return{fontFamily:(e,t)=>{e.props.fontFamily=t,e.fontInfo=void 0,this.invalidateLayoutCache(e)},fontWeight:(e,t)=>{e.props.fontWeight=t,e.fontInfo=void 0,this.invalidateLayoutCache(e)},fontStyle:(e,t)=>{e.props.fontStyle=t,e.fontInfo=void 0,this.invalidateLayoutCache(e)},fontStretch:(e,t)=>{e.props.fontStretch=t,e.fontInfo=void 0,this.invalidateLayoutCache(e)},fontSize:(e,t)=>{e.props.fontSize=t,e.fontInfo=void 0,this.invalidateLayoutCache(e)},text:(e,t)=>{e.props.text=t,this.invalidateLayoutCache(e)},textAlign:(e,t)=>{e.props.textAlign=t,this.invalidateLayoutCache(e)},color:(e,t)=>{e.props.color=t,this.invalidateLayoutCache(e)},x:(e,t)=>{e.props.x=t,this.invalidateVisibleWindowCache(e)},y:(e,t)=>{e.props.y=t,this.invalidateVisibleWindowCache(e)},contain:(e,t)=>{e.props.contain=t,this.invalidateLayoutCache(e)},width:(e,t)=>{e.props.width=t,this.invalidateLayoutCache(e)},height:(e,t)=>{e.props.height=t,this.invalidateLayoutCache(e)},offsetY:(e,t)=>{e.props.offsetY=t,this.invalidateLayoutCache(e)},scrollY:(e,t)=>{e.props.scrollY=t},letterSpacing:(e,t)=>{e.props.letterSpacing=t,this.invalidateLayoutCache(e)}}}canRenderFont(e){return!0}isFontFaceSupported(e){return e instanceof Pn}addFontFace(e){L(e instanceof Pn),Bn.add(e.fontFace)}createState(e){return{props:e,status:"initialState",updateScheduled:!1,emitter:new We,canvasPages:void 0,lightning2TextRenderer:new ko(this.canvas,this.context),renderWindow:void 0,visibleWindow:{x1:0,y1:0,x2:0,y2:0,valid:!1},renderInfo:void 0,forceFullLayoutCalc:!1,textW:0,textH:0,fontInfo:void 0,fontFaceLoadedHandler:void 0,debugData:{updateCount:0,layoutCount:0,drawCount:0,lastLayoutNumCharacters:0,layoutSum:0,drawSum:0,bufferSize:0}}}updateState(e){if(e.status==="initialState"&&this.setStatus(e,"loading"),!e.fontInfo){const y=Lo(e.props);if(e.fontInfo={cssString:y,loaded:!1},!e.fontInfo.loaded){Bn.load(y).then(this.onFontLoaded.bind(this,e,y)).catch(this.onFontLoadError.bind(this,e,y));return}}if(!e.fontInfo.loaded)return;e.renderInfo||(e.lightning2TextRenderer.settings={text:e.props.text,textAlign:e.props.textAlign,fontFace:e.props.fontFamily,fontSize:e.props.fontSize,fontStyle:[e.props.fontStretch,e.props.fontStyle,e.props.fontWeight].join(" "),textColor:be(e.props.color),offsetY:e.props.fontSize+e.props.offsetY,wordWrap:e.props.contain!=="none",wordWrapWidth:e.props.contain==="none"?void 0:e.props.width,letterSpacing:e.props.letterSpacing},e.renderInfo=e.lightning2TextRenderer.calculateRenderInfo(),e.textH=e.renderInfo.lineHeight*e.renderInfo.lines.length,e.textW=e.renderInfo.width,e.renderWindow=void 0);const{x:t,y:o,width:i,height:s,scrollY:l,contain:c}=e.props,{visibleWindow:u}=e;let{renderWindow:h,canvasPages:f}=e;if(!u.valid){const y=Ht(t,o,c!=="none"?t+i:1/0,c==="both"?o+s:1/0,zo);Qn(this.rendererBounds,y,u),u.valid=!0}const v=u.y2-u.y1,_=Math.ceil(v/e.renderInfo.lineHeight);if(v===0){f=void 0,h=void 0,this.setStatus(e,"loaded");return}else if(h&&f){const y=t+h.x1,x=o-l+h.y1,S=t+h.x2,T=o-l+h.y2;if(y<=u.x1&&S>=u.x2&&x<=u.y1&&T>=u.y2){this.setStatus(e,"loaded");return}T<u.y2?(h.y1+=_*e.renderInfo.lineHeight,h.y2+=_*e.renderInfo.lineHeight,f.push(f.shift()),f[2].lineNumStart=f[1].lineNumStart+_,f[2].lineNumEnd=f[2].lineNumStart+_,f[2].valid=!1):x>u.y1&&(h.y1-=_*e.renderInfo.lineHeight,h.y2-=_*e.renderInfo.lineHeight,f.unshift(f.pop()),f[0].lineNumStart=f[1].lineNumStart-_,f[0].lineNumEnd=f[0].lineNumStart+_,f[0].valid=!1)}else{const y=e.renderInfo.lineHeight*_,x=Math.ceil(l/y),S=x*_,T=S-_,p=S+_;f=[{texture:f==null?void 0:f[0].texture,lineNumStart:T,lineNumEnd:T+_,valid:!1},{texture:f==null?void 0:f[1].texture,lineNumStart:S,lineNumEnd:S+_,valid:!1},{texture:f==null?void 0:f[2].texture,lineNumStart:p,lineNumEnd:p+_,valid:!1}],e.canvasPages=f;const m=x*y;h={x1:0,y1:m-y,x2:i,y2:m+y*2}}e.renderWindow=h,performance.now();for(const y of f)if(!y.valid){if(y.lineNumStart<0){y.texture=this.stage.txManager.loadTexture("ImageTexture",{src:""}),y.valid=!0;continue}e.lightning2TextRenderer.draw(e.renderInfo,{lines:e.renderInfo.lines.slice(y.lineNumStart,y.lineNumEnd),lineWidths:e.renderInfo.lineWidths.slice(y.lineNumStart,y.lineNumEnd)}),this.canvas.width===0||this.canvas.height===0||(y.texture=this.stage.txManager.loadTexture("ImageTexture",{src:this.context.getImageData(0,0,this.canvas.width,this.canvas.height)},{preload:!0})),y.valid=!0}this.setStatus(e,"loaded")}renderQuads(e,t,o,i){var F,b,w,R,k,I,A,O,W,ee,q,le;const{stage:s}=this,{canvasPages:l,textW:c=0,textH:u=0,renderWindow:h}=e;if(!l||!h)return;const{x:f,y:v,scrollY:_,contain:y,width:x,height:S}=e.props,T={x:f,y:v,width:y!=="none"?x:c,height:y==="both"?S:u};Kn({x:0,y:0,width:s.options.appWidth,height:s.options.appHeight},T),L(l,"canvasPages is not defined"),L(h,"renderWindow is not defined");const m=(h.y2-h.y1)/3,{zIndex:g,color:C}=e.props,E=i*Wr(C);l[0].valid&&this.stage.renderer.addQuad({alpha:E,clippingRect:o,colorBl:4294967295,colorBr:4294967295,colorTl:4294967295,colorTr:4294967295,width:((b=(F=l[0].texture)==null?void 0:F.dimensions)==null?void 0:b.width)||0,height:((R=(w=l[0].texture)==null?void 0:w.dimensions)==null?void 0:R.height)||0,texture:l[0].texture,textureOptions:{},shader:null,shaderProps:null,zIndex:g,tx:t.tx,ty:t.ty-_+h.y1,ta:t.ta,tb:t.tb,tc:t.tc,td:t.td}),l[1].valid&&this.stage.renderer.addQuad({alpha:E,clippingRect:o,colorBl:4294967295,colorBr:4294967295,colorTl:4294967295,colorTr:4294967295,width:((I=(k=l[1].texture)==null?void 0:k.dimensions)==null?void 0:I.width)||0,height:((O=(A=l[1].texture)==null?void 0:A.dimensions)==null?void 0:O.height)||0,texture:l[1].texture,textureOptions:{},shader:null,shaderProps:null,zIndex:g,tx:t.tx,ty:t.ty-_+h.y1+m,ta:t.ta,tb:t.tb,tc:t.tc,td:t.td}),l[2].valid&&this.stage.renderer.addQuad({alpha:E,clippingRect:o,colorBl:4294967295,colorBr:4294967295,colorTl:4294967295,colorTr:4294967295,width:((ee=(W=l[2].texture)==null?void 0:W.dimensions)==null?void 0:ee.width)||0,height:((le=(q=l[2].texture)==null?void 0:q.dimensions)==null?void 0:le.height)||0,texture:l[2].texture,textureOptions:{},shader:null,shaderProps:null,zIndex:g,tx:t.tx,ty:t.ty-_+h.y1+m+m,ta:t.ta,tb:t.tb,tc:t.tc,td:t.td})}invalidateVisibleWindowCache(e){e.visibleWindow.valid=!1,this.setStatus(e,"loading"),this.scheduleUpdateState(e)}invalidateLayoutCache(e){e.renderInfo=void 0,this.setStatus(e,"loading"),this.scheduleUpdateState(e)}onFontLoaded(e,t){var o;t!==((o=e.fontInfo)==null?void 0:o.cssString)||!e.fontInfo||(e.fontInfo.loaded=!0,this.scheduleUpdateState(e))}onFontLoadError(e,t,o){var i;t!==((i=e.fontInfo)==null?void 0:i.cssString)||!e.fontInfo||(e.fontInfo.loaded=!0,console.error("CanvasTextRenderer: Error loading font '".concat(e.fontInfo.cssString,"'"),o),this.scheduleUpdateState(e))}}const Po=2e6;class Mo extends We{constructor(e){super();d(this,"options");d(this,"animationManager");d(this,"txManager");d(this,"fontManager");d(this,"textRenderers");d(this,"shManager");d(this,"renderer");d(this,"scene");d(this,"deltaTime",0);d(this,"lastFrameTime",0);d(this,"currentFrameTime",0);d(this,"fpsNumFrames",0);d(this,"fpsElapsedTime",0);this.options=e;const{canvas:t,clearColor:o,rootId:i,debug:s,appWidth:l,appHeight:c}=e;this.txManager=new _o,this.shManager=new vo,this.animationManager=new wo,s!=null&&s.monitorTextureCache&&setInterval(()=>{L(this.txManager);const h=this.txManager.getDebugInfo();console.log("Texture ID Cache Size: ",h.idCacheSize),console.log("Texture Key Cache Size: ",h.keyCacheSize)},1e3),this.renderer=new Ur({stage:this,canvas:t,pixelRatio:e.devicePhysicalPixelRatio*e.deviceLogicalPixelRatio,clearColor:o!=null?o:4278190080,bufferMemory:Po,txManager:this.txManager,shManager:this.shManager}),this.txManager.renderer=this.renderer,this.textRenderers={canvas:new Ao(this),sdf:new Io(this)},this.fontManager=new gr(this.textRenderers);const u=new Cn(this,{id:i,x:0,y:0,width:l,height:c,alpha:1,clipping:!1,color:0,colorTop:0,colorBottom:0,colorLeft:0,colorRight:0,colorTl:0,colorTr:0,colorBl:0,colorBr:0,zIndex:0,zIndexLocked:0,scaleX:1,scaleY:1,mountX:0,mountY:0,mount:0,pivot:.5,pivotX:.5,pivotY:.5,rotation:0,parent:null,texture:null,textureOptions:null,shader:null,shaderProps:null});this.scene=new po(u),mo(this)}updateAnimations(){const{scene:e,animationManager:t}=this;e!=null&&e.root&&(this.lastFrameTime=this.currentFrameTime,this.currentFrameTime=xo(),this.deltaTime=this.lastFrameTime?this.currentFrameTime-this.lastFrameTime:100/6,t.update(this.deltaTime))}hasSceneUpdates(){var t;const{scene:e}=this;return e!=null&&e.root?(t=e==null?void 0:e.root)==null?void 0:t.hasUpdates:!1}drawFrame(){var i;const{renderer:e,scene:t}=this;if(!(t!=null&&t.root))return;(i=t==null?void 0:t.root)==null||i.update(this.deltaTime),e==null||e.reset(),this.addQuads(t.root),e==null||e.render();const{fpsUpdateInterval:o}=this.options;if(o&&(this.fpsNumFrames++,this.fpsElapsedTime+=this.deltaTime,this.fpsElapsedTime>=o)){const s=Math.round(this.fpsNumFrames*1e3/this.fpsElapsedTime);this.fpsNumFrames=0,this.fpsElapsedTime=0,this.emit("fpsUpdate",s)}}addQuads(e){L(this.renderer&&e.globalTransform),e.renderQuads(this.renderer);for(let t=0;t<e.children.length;t++){const o=e.children[t];o&&(o==null?void 0:o.worldAlpha)!==0&&this.addQuads(o)}}resolveTextRenderer(e,t=null){let o=t,i=!1;if(o){const l=this.textRenderers[o];l?l.canRenderFont(e)||(console.warn("Cannot use override text renderer '".concat(o,"' for font"),e),o=null,i=!0):(console.warn("Text renderer override '".concat(o,"' not found.")),o=null,i=!0)}if(!o){for(const[l,c]of Object.entries(this.textRenderers))if(l!=="canvas"&&c.canRenderFont(e)){o=l;break}o||(o="canvas")}i&&console.warn("Falling back to text renderer ".concat(String(o)));const s=this.textRenderers[o];return L(s,"resolvedTextRenderer undefined"),s}get root(){var e;return((e=this.scene)==null?void 0:e.root)||null}}class No extends Cn{constructor(e,t){super(e,t);d(this,"textRenderer");d(this,"trState");d(this,"_textRendererOverride",null);d(this,"onTextLoaded",()=>{const{contain:e}=this,t=this.trState.props.width,o=this.trState.props.height,i=this.trState.textW||0,s=this.trState.textH||0;e==="both"?(this.props.width=t,this.props.height=o):e==="width"?(this.props.width=t,this.props.height=s):e==="none"&&(this.props.width=i,this.props.height=s),this.updateLocalTransform(),this.emit("loaded",{type:"text",dimensions:{width:this.trState.textW||0,height:this.trState.textH||0}})});d(this,"onTextFailed",(e,t)=>{this.emit("failed",{type:"text",error:t})});this._textRendererOverride=t.textRendererOverride;const{resolvedTextRenderer:o,textRendererState:i}=this.resolveTextRendererAndState({x:this.absX,y:this.absY,width:t.width,height:t.height,textAlign:t.textAlign,color:t.color,zIndex:t.zIndex,contain:t.contain,scrollable:t.scrollable,scrollY:t.scrollY,offsetY:t.offsetY,letterSpacing:t.letterSpacing,debug:t.debug,fontFamily:t.fontFamily,fontSize:t.fontSize,fontStretch:t.fontStretch,fontStyle:t.fontStyle,fontWeight:t.fontWeight,text:t.text},void 0);this.textRenderer=o,this.trState=i}get width(){return this.trState.props.width}set width(e){this.textRenderer.set.width(this.trState,e)}get height(){return this.trState.props.height}set height(e){this.textRenderer.set.height(this.trState,e)}get color(){return this.trState.props.color}set color(e){this.textRenderer.set.color(this.trState,e)}get text(){return this.trState.props.text}set text(e){this.textRenderer.set.text(this.trState,e)}get textRendererOverride(){return this._textRendererOverride}set textRendererOverride(e){this._textRendererOverride=e;const{resolvedTextRenderer:t,textRendererState:o}=this.resolveTextRendererAndState(this.trState.props,this.trState);this.textRenderer=t,this.trState=o}get fontSize(){return this.trState.props.fontSize}set fontSize(e){this.textRenderer.set.fontSize(this.trState,e)}get fontFamily(){return this.trState.props.fontFamily}set fontFamily(e){this.textRenderer.set.fontFamily(this.trState,e)}get fontStretch(){return this.trState.props.fontStretch}set fontStretch(e){this.textRenderer.set.fontStretch(this.trState,e)}get fontStyle(){return this.trState.props.fontStyle}set fontStyle(e){this.textRenderer.set.fontStyle(this.trState,e)}get fontWeight(){return this.trState.props.fontWeight}set fontWeight(e){this.textRenderer.set.fontWeight(this.trState,e)}get textAlign(){return this.trState.props.textAlign}set textAlign(e){this.textRenderer.set.textAlign(this.trState,e)}get contain(){return this.trState.props.contain}set contain(e){this.textRenderer.set.contain(this.trState,e)}get scrollable(){return this.trState.props.scrollable}set scrollable(e){this.textRenderer.set.scrollable(this.trState,e)}get scrollY(){return this.trState.props.scrollY}set scrollY(e){this.textRenderer.set.scrollY(this.trState,e)}get offsetY(){return this.trState.props.offsetY}set offsetY(e){this.textRenderer.set.offsetY(this.trState,e)}get letterSpacing(){return this.trState.props.letterSpacing}set letterSpacing(e){this.textRenderer.set.letterSpacing(this.trState,e)}get debug(){return this.trState.props.debug}set debug(e){this.textRenderer.set.debug(this.trState,e)}update(e,t=null){super.update(e,t),L(this.globalTransform),this.textRenderer.set.x(this.trState,this.globalTransform.tx),this.textRenderer.set.y(this.trState,this.globalTransform.ty)}renderQuads(e){L(this.globalTransform),this.textRenderer.renderQuads(this.trState,this.globalTransform,this.clippingRect,this.worldAlpha)}resolveTextRendererAndState(e,t){const o=this.stage.resolveTextRenderer(e,this._textRendererOverride),i=o.createState(e);return t&&["loading","loaded","failed"].forEach(l=>{t.emitter.off(l)}),i.emitter.on("loaded",this.onTextLoaded),i.emitter.on("failed",this.onTextFailed),o.scheduleUpdateState(i),{resolvedTextRenderer:o,textRendererState:i}}}class $o extends un{constructor(n,e,t){super(n,e,t,new No(t,{id:Rn(),x:n.x,y:n.y,width:n.width,height:n.height,alpha:n.alpha,clipping:n.clipping,color:n.color,colorTop:n.colorTop,colorBottom:n.colorBottom,colorLeft:n.colorLeft,colorRight:n.colorRight,colorTl:n.colorTl,colorTr:n.colorTr,colorBl:n.colorBl,colorBr:n.colorBr,zIndex:n.zIndex,zIndexLocked:n.zIndexLocked,scaleX:n.scaleX,scaleY:n.scaleY,mountX:n.mountX,mountY:n.mountY,mount:n.mount,pivot:n.pivot,pivotX:n.pivotX,pivotY:n.pivotY,rotation:n.rotation,text:n.text,fontSize:n.fontSize,fontFamily:n.fontFamily,fontWeight:n.fontWeight,fontStretch:n.fontStretch,fontStyle:n.fontStyle,contain:n.contain,scrollable:n.scrollable,letterSpacing:n.letterSpacing,textAlign:n.textAlign,scrollY:n.scrollY,offsetY:n.offsetY,textRendererOverride:n.textRendererOverride,debug:n.debug,parent:null,texture:null,textureOptions:null,shader:null,shaderProps:null}))}get text(){return this.coreNode.text}set text(n){this.coreNode.text=n}get textRendererOverride(){return this.coreNode.textRendererOverride}set textRendererOverride(n){this.coreNode.textRendererOverride=n}get fontSize(){return this.coreNode.fontSize}set fontSize(n){this.coreNode.fontSize=n}get fontFamily(){return this.coreNode.fontFamily}set fontFamily(n){this.coreNode.fontFamily=n}get fontWeight(){return this.coreNode.fontWeight}set fontWeight(n){this.coreNode.fontWeight=n}get fontStretch(){return this.coreNode.fontStretch}set fontStretch(n){this.coreNode.fontStretch=n}get fontStyle(){return this.coreNode.fontStyle}set fontStyle(n){this.coreNode.fontStyle=n}get textAlign(){return this.coreNode.textAlign}set textAlign(n){this.coreNode.textAlign=n}get contain(){return this.coreNode.contain}set contain(n){this.coreNode.contain=n}get scrollable(){return this.coreNode.scrollable}set scrollable(n){this.coreNode.scrollable=n}get scrollY(){return this.coreNode.scrollY}set scrollY(n){this.coreNode.scrollY=n}get offsetY(){return this.coreNode.offsetY}set offsetY(n){this.coreNode.offsetY=n}get letterSpacing(){return this.coreNode.letterSpacing}set letterSpacing(n){this.coreNode.letterSpacing=n}get debug(){return this.coreNode.debug}set debug(n){this.coreNode.debug=n}}const Bo="modulepreload",Do=function(r,n){return new URL(r,n).href},Dn={},Oo=function(n,e,t){if(!e||e.length===0)return n();const o=document.getElementsByTagName("link");return Promise.all(e.map(i=>{if(i=Do(i,t),i in Dn)return;Dn[i]=!0;const s=i.endsWith(".css"),l=s?'[rel="stylesheet"]':"";if(!!t)for(let h=o.length-1;h>=0;h--){const f=o[h];if(f.href===i&&(!s||f.rel==="stylesheet"))return}else if(document.querySelector('link[href="'.concat(i,'"]').concat(l)))return;const u=document.createElement("link");if(u.rel=s?"stylesheet":Bo,s||(u.as="script",u.crossOrigin=""),u.href=i,document.head.appendChild(u),s)return new Promise((h,f)=>{u.addEventListener("load",h),u.addEventListener("error",()=>f(new Error("Unable to preload CSS for ".concat(i))))})})).then(()=>n()).catch(i=>{const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=i,window.dispatchEvent(s),!s.defaultPrevented)throw i})};function Yo(r){return r.prototype instanceof Xr}async function Wo(r,n){let e;try{console.log("Loading core extension",r),e=await Oo(()=>import(r),[],import.meta.url)}catch(o){console.error("The core extension module at '".concat(r,"' could not be loaded.")),console.error(o);return}if(!e.default){console.error("The core extension module at '".concat(r,"' does not have a default export."));return}const t=e.default;if(Yo(t)){const o=new t;try{await o.run(n)}catch(i){console.error("The core extension at '".concat(r,"' threw an error.")),console.error(i)}}else console.error("The core extension at '".concat(r,"' does not extend CoreExtension."))}class Uo{constructor(){d(this,"root",null);d(this,"stage",null);d(this,"rendererMain",null)}async init(n,e,t){this.stage=new Mo({rootId:Rn(),appWidth:e.appWidth,appHeight:e.appHeight,deviceLogicalPixelRatio:e.deviceLogicalPixelRatio,devicePhysicalPixelRatio:e.devicePhysicalPixelRatio,clearColor:e.clearColor,canvas:t,fpsUpdateInterval:e.fpsUpdateInterval,debug:{monitorTextureCache:!1}}),this.rendererMain=n,L(this.stage.root);const o=new un(n.resolveNodeDefaults({}),this.rendererMain,this.stage,this.stage.root);this.root=o,o.once("beforeDestroy",this.onBeforeDestroyNode.bind(this,o)),this.onCreateNode(o),e.coreExtensionModule&&await Wo(e.coreExtensionModule,this.stage),this.stage.on("fpsUpdate",(i,s)=>{this.onFpsUpdate(s)})}createNode(n){L(this.rendererMain),L(this.stage);const e=new un(n,this.rendererMain,this.stage);return e.once("beforeDestroy",this.onBeforeDestroyNode.bind(this,e)),this.onCreateNode(e),e}createTextNode(n){L(this.rendererMain),L(this.stage);const e=new $o(n,this.rendererMain,this.stage);return e.once("beforeDestroy",this.onBeforeDestroyNode.bind(this,e)),this.onCreateNode(e),e}destroyNode(n){n.destroy()}releaseTexture(n){const{stage:e}=this;L(e),e.txManager.removeTextureIdFromCache(n)}getRootNode(){return L(this.root),this.root}onCreateNode(n){throw new Error("Method not implemented.")}onBeforeDestroyNode(n){throw new Error("Method not implemented.")}onFpsUpdate(n){throw new Error("Method not implemented.")}}let we,En;function Xo(r={}){const n=new Uo;return we=new co(r,r.rootId||"app",n),En=we.createShader.bind(we),we}class jo extends Array{constructor(n){super(),this._parent=n}get selected(){return this[this._parent.selected||0]}get firstChild(){return this[0]}insert(n,e){if(e){const t=this.indexOf(e);this.splice(t,0,n)}else this.push(n);n.parent=this._parent,this._parent._isDirty=!0}remove(n){const e=this.indexOf(n);e>=0&&this.splice(e,1)}}import.meta.env={BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0,SSR:!1,LEGACY:!1};const Ce={debug:!1,animationSettings:{duration:250,easing:"ease-in-out"},fontSettings:{fontFamily:"Ubuntu",fontSize:100}};function Ho(r,n,...e){}function Qe(r){return typeof r=="function"}function lt(r){return Array.isArray(r)}function Go(r){return typeof r=="string"}function Vo(r){return typeof r=="number"}function Ko(r){return Number.isInteger(r)}function qo(r,n){for(const e of n)if(e in r)return!0;return!1}function Qo(r){return lt(r)?r[0]:r}class On extends Array{constructor(n,e={}){var t=(...o)=>{super(...o)};return lt(e)?t(...e):Go(e)?t(e):t(...Object.entries(e).filter(([o,i])=>i).map(([o])=>o)),this.onChange=n,this}has(n){return this.indexOf(n)>=0}is(n){return this.indexOf(n)>=0}add(n){this.push(n),this.onChange()}toggle(n){this.has(n)?this.remove(n):this.add(n)}remove(n){const e=this.indexOf(n);e>=0&&(this.splice(e,1),this.onChange())}}function Jo(r){const n=[];for(let p=0;p<r.children.length;p++){const m=r.children[p];if(m.name!=="TextNode"){if(m.name==="text"&&!(m.width||m.height))return!1;n.push(m)}}const e=n.length,o=(r.flexDirection||"row")==="row",i=o?"width":"height",s=o?"height":"width",l=o?"marginLeft":"marginTop",c=o?"marginRight":"marginBottom",u=o?"x":"y",h=o?"y":"x",f=r[i]||0,v=r[s]||0,_=r.gap||0,y=r.justifyContent||"flexStart",x=r.alignItems;let S=0;["center","spaceBetween","spaceEvenly"].includes(y)&&(S=n.reduce((p,m)=>p+(m[i]||0),0));const T=v&&x?p=>{x==="flexStart"?p[h]=0:x==="center"?p[h]=(v-(p[s]||0))/2:x==="flexEnd"&&(p[h]=v-(p[s]||0))}:p=>p;if(y==="flexStart"){let p=0;if(n.forEach(m=>{m[u]=p+(m[l]||0),p+=(m[i]||0)+_+(m[l]||0)+(m[c]||0),T(m)}),r._autosized){const m=p-_;if(m!==r[i])return r[i]=m,!0}}else if(y==="flexEnd"){let p=f;for(let m=e-1;m>=0;m--){const g=n[m];L(g),g[u]=p-(g[i]||0)-(g[c]||0),p-=(g[i]||0)+_+(g[l]||0)+(g[c]||0),T(g)}}else if(y==="center"){let p=(f-(S+_*(e-1)))/2;n.forEach(m=>{m[u]=p,p+=(m[i]||0)+_,T(m)})}else if(y==="spaceBetween"){const p=(f-S)/(e-1);let m=0;n.forEach(g=>{g[u]=m,m+=(g[i]||0)+p,T(g)})}else if(y==="spaceEvenly"){const p=(f-S)/(e+1);let m=p;n.forEach(g=>{g[u]=m,m+=(g[i]||0)+p,T(g)})}return!1}const{animationSettings:Zo}=Ce;function ei(r){const n=[];for(const[e,t]of Object.entries(r))n.push({type:e,props:t});return En("DynamicShader",{effects:n})}function ot(r=""){return{set(n){Vo(n)&&(n={width:n,color:255}),this.effects={...this.effects||{},["border".concat(r)]:n},this["_border".concat(r)]=n},get(){return this["_border".concat(r)]}}}const ti=["alpha","color","colorTop","colorRight","colorLeft","colorBottom","colorTl","colorTr","colorBl","colorBr","height","fontSize","lineHeight","mount","mountX","mountY","pivot","pivotX","pivotY","rotation","scale","width","worldX","worldY","x","y","zIndex","zIndexLocked"],ni=["clipping","contain","fontFamily","src","text","textAlign","texture","maxLines","maxLinesSuffix","textBaseline","textOverflow","verticalAlign","wordWrap"];class Oe extends Object{constructor(n){super(),this.lng=null,this._parent=null,this.name=n,this.rendered=!1,this.autofocus=!1,this._renderProps={x:0,y:0},this.children=new jo(this);for(const e of ti)Object.defineProperty(this,e,{get(){return this["_".concat(e)]||this.lng&&this.lng[e]},set(t){this["_".concat(e)]=Qo(t),this._sendToLightningAnimatable(e,t)}});for(const e of ni)Object.defineProperty(this,e,{get(){return this["_".concat(e)]||this.lng&&this.lng[e]},set(t){this["_".concat(e)]=t,this._sendToLightning(e,t)}});Object.defineProperties(this,{borderRadius:{set(e){this._borderRadius=e,this.effects={...this.effects||{},radius:{radius:e}}},get(){return this._borderRadius}},border:ot(),borderLeft:ot("Left"),borderRight:ot("Right"),borderTop:ot("Top"),borderBottom:ot("Bottom")}),Object.defineProperties(this,{linearGradient:{set(e={}){this._linearGradient=e,this.effects={...this.effects||{},linearGradient:e}},get(){return this._linearGradient}}})}get effects(){return this._effects}set effects(n){this._effects=n,this.shader=ei(n)}get parent(){return this._parent}set parent(n){var e;this._parent=n,this.rendered&&this.lng&&(this.lng.parent=(e=n==null?void 0:n.lng)!=null?e:null)}get shader(){return this._shader}set shader(n){lt(n)?this._shader=En(...n):this._shader=n,this._sendToLightning("shader",this._shader)}_sendToLightningAnimatable(n,e){if(this.rendered&&this.lng){if(lt(e))return this.createAnimation({[n]:e[0]},e[1]).start();if(this._animate)return this.createAnimation({[n]:e}).start();this.lng[n]=e}else lt(e)&&(e=e[0]),this._renderProps[n]=e}_sendToLightning(n,e){this.rendered&&this.lng?this.lng[n]=e:this._renderProps[n]=e}createAnimation(n,e){return L(this.lng,"Node must be rendered before animating"),this.lng.animate(n,e||this.animationSettings)}setFocus(){this.rendered?cr(this):this.autofocus=!0}isTextNode(){return this.name==="text"}_resizeOnTextLoad(){this.lng.once("loaded",(n,e)=>{if(e.type==="text"){const{dimensions:t}=e;this.width=t.width,this.height=t.height,this.parent.updateLayout(this,t)}})}getText(){return this.children.map(n=>n.text).join("")}destroy(){this.lng&&we.destroyNode(this.lng)}set style(n){for(let e in n)e==="animate"&&(e="_animate"),this[e]||(this[e]=n[e]);this._style=n}get style(){return this._style}get hasChildren(){return this.children.length>0}set states(n){this._states=new On(this._stateChanged.bind(this),n),this.rendered&&this._stateChanged()}get states(){return this._states=this._states||new On(this._stateChanged.bind(this)),this._states}get animationSettings(){return this._animationSettings||Zo}set animationSettings(n){this._animationSettings=n}updateLayout(n,e){var t;this.hasChildren&&(Qe(this.onBeforeLayout)&&this.onBeforeLayout.call(this,n,e),this.display==="flex"&&Jo(this)&&((t=this.parent)==null||t.updateLayout()),Qe(this.onLayout)&&this.onLayout.call(this,n,e))}_stateChanged(){var e;if(Ho("State Changed: ",this,this.states),this.forwardStates){const t=this.states.slice();this.children.forEach(o=>o.states=t)}const n=((e=Ce.stateMapperHook)==null?void 0:e.call(Ce,this,this.states))||this.states;if(this._undoStates||this.style&&qo(this.style,n)){this._undoStates=this._undoStates||{};let t={};for(const[i,s]of Object.entries(this._undoStates))n.includes(i)||(t={...t,...s});const o=n.reduce((i,s)=>{const l=this.style[s];return l&&(i={...i,...l},this._undoStates&&!this._undoStates[s]&&(this._undoStates[s]={},Object.keys(l).forEach(c=>{this._undoStates[s][c]=this[c]}))),i},{});Object.assign(this,{...t,...o})}}render(){const n=this,e=this.parent;e._isDirty&&(e.updateLayout(),e._isDirty=!1),n.updateLayout(),this.states.length&&this._stateChanged();let t=n._renderProps;e.lng&&(t.parent=e.lng),n.isTextNode()?(t={...Ce.fontSettings,...t,text:n.getText()},t.contain&&(t.width||(t.width=(e.width||0)-t.x-(t.marginRight||0),n._width=t.width,n._autosized=!0),!t.height&&t.contain==="both"&&(t.height=(e.height||0)-t.y-(t.marginBottom||0),n._height=t.height,n._autosized=!0)),n.lng=we.createTextNode(t),Qe(this.onCreate)&&this.onCreate.call(this,n),Qe(n.onLoad)&&n.lng.on("loaded",n.onLoad),(!n.width||!n.height)&&(n._autosized=!0,n._resizeOnTextLoad())):(t.src||t.texture||(isNaN(t.width)&&(t.width=(e.width||0)-t.x,n._width=t.width,n._autosized=!0),isNaN(t.height)&&(t.height=(e.height||0)-t.y,n._height=t.height,n._autosized=!0),t.color||(n._color=t.color=0)),n.lng=we.createNode(t),n.onFail&&n.lng.on("failed",n.onFail),n.onLoad&&n.lng.on("loaded",n.onLoad),Qe(this.onCreate)&&this.onCreate.call(this,n)),n.rendered=!0,n.autofocus&&n.setFocus(),delete this._renderProps}}const z=r=>(()=>{const n=Ae("text");return et(n,r,!1),n})(),P=r=>(()=>{const n=Ae("node");return et(n,r,!1),n})();function mr(r){r.name!=="TextNode"&&(L(r instanceof Oe),r.render(),r.children.forEach(n=>mr(n)))}const ri=r=>{const n=Xo(r.options),e=n.init();let t;return me(()=>{e.then(()=>{L(t),t.lng=n.root,t.children.forEach(mr),Qe(r.onFirstRender)&&r.onFirstRender(t)}).catch(console.error)}),(()=>{const o=Ae("canvas"),i=t;return typeof i=="function"?In(i,o):t=o,vt(o,()=>r.children),o})()};function oi({createElement:r,createTextNode:n,isTextNode:e,replaceText:t,insertNode:o,removeNode:i,setProperty:s,getParentNode:l,getFirstChild:c,getNextSibling:u}){function h(p,m,g,C){if(g!==void 0&&!C&&(C=[]),typeof m!="function")return f(p,m,C,g);ve(E=>f(p,m(),E,g),C)}function f(p,m,g,C,E){for(;typeof g=="function";)g=g();if(m===g)return g;const F=typeof m,b=C!==void 0;if(F==="string"||F==="number")if(F==="number"&&(m=m.toString()),b){let w=g[0];w&&e(w)?t(w,m):w=n(m),g=y(p,g,C,w)}else g!==""&&typeof g=="string"?t(c(p),g=m):(y(p,g,C,n(m)),g=m);else if(m==null||F==="boolean")g=y(p,g,C);else{if(F==="function")return ve(()=>{let w=m();for(;typeof w=="function";)w=w();g=f(p,w,g,C)}),()=>g;if(Array.isArray(m)){const w=[];if(v(w,m,E))return ve(()=>g=f(p,w,g,C,!0)),()=>g;if(w.length===0){const R=y(p,g,C);if(b)return g=R}else Array.isArray(g)?g.length===0?x(p,w,C):_(p,g,w):g==null||g===""?x(p,w):_(p,b&&g||[c(p)],w);g=w}else{if(Array.isArray(g)){if(b)return g=y(p,g,C,m);y(p,g,null,m)}else g==null||g===""||!c(p)?o(p,m):S(p,m,c(p));g=m}}return g}function v(p,m,g){let C=!1;for(let E=0,F=m.length;E<F;E++){let b=m[E],w;if(!(b==null||b===!0||b===!1))if(Array.isArray(b))C=v(p,b)||C;else if((w=typeof b)=="string"||w==="number")p.push(n(b));else if(w==="function")if(g){for(;typeof b=="function";)b=b();C=v(p,Array.isArray(b)?b:[b])||C}else p.push(b),C=!0;else p.push(b)}return C}function _(p,m,g){let C=g.length,E=m.length,F=C,b=0,w=0,R=u(m[E-1]),k=null;for(;b<E||w<F;){if(m[b]===g[w]){b++,w++;continue}for(;m[E-1]===g[F-1];)E--,F--;if(E===b){const I=F<C?w?u(g[w-1]):g[F-w]:R;for(;w<F;)o(p,g[w++],I)}else if(F===w)for(;b<E;)(!k||!k.has(m[b]))&&i(p,m[b]),b++;else if(m[b]===g[F-1]&&g[w]===m[E-1]){const I=u(m[--E]);o(p,g[w++],u(m[b++])),o(p,g[--F],I),m[E]=g[F]}else{if(!k){k=new Map;let A=w;for(;A<F;)k.set(g[A],A++)}const I=k.get(m[b]);if(I!=null)if(w<I&&I<F){let A=b,O=1,W;for(;++A<E&&A<F&&!((W=k.get(m[A]))==null||W!==I+O);)O++;if(O>I-w){const ee=m[b];for(;w<I;)o(p,g[w++],ee)}else S(p,g[w++],m[b++])}else b++;else i(p,m[b++])}}}function y(p,m,g,C){if(g===void 0){let F;for(;F=c(p);)i(p,F);return C&&o(p,C),""}const E=C||n("");if(m.length){let F=!1;for(let b=m.length-1;b>=0;b--){const w=m[b];if(E!==w){const R=l(w)===p;!F&&!b?R?S(p,E,w):o(p,E,g):R&&i(p,w)}else F=!0}}else o(p,E,g);return[E]}function x(p,m,g){for(let C=0,E=m.length;C<E;C++)o(p,m[C],g)}function S(p,m,g){o(p,m,g),i(p,g)}function T(p,m,g={},C){return m||(m={}),C||ve(()=>g.children=f(p,m.children,g.children)),ve(()=>m.ref&&m.ref(p)),ve(()=>{for(const E in m){if(E==="children"||E==="ref")continue;const F=m[E];F!==g[E]&&(s(p,E,F,g[E]),g[E]=F)}}),g}return{render(p,m){let g;return Ze(C=>{g=C,h(m,p())}),g},insert:h,spread(p,m,g){typeof m=="function"?ve(C=>T(p,m(),C,g)):T(p,m,void 0,g)},createElement:r,createTextNode:n,insertNode:o,setProp(p,m,g,C){return s(p,m,g,C),g},mergeProps:Tn,effect:ve,memo:Z,createComponent:lr,use(p,m,g){return oe(()=>p(m,g))}}}function ii(r){const n=oi(r);return n.mergeProps=Tn,n}const si={createElement(r){const n=new Oe(r);return we.root&&me(()=>n.render()),n},createTextNode(r){return{name:"TextNode",text:r,parent:null}},replaceText(r,n){r.text=n;const e=r.parent;L(e),e._autosized&&e._resizeOnTextLoad(),e.text=e.getText()},setProperty(r,n,e=!0){if(n==="animate"){r._animate=e;return}r[n]=e},insertNode(r,n,e){r&&(r.children.insert(n,e),n.name==="TextNode"&&r.isTextNode()&&(r._autosized&&r._resizeOnTextLoad(),r.text=r.getText()))},isTextNode(r){return r.isTextNode()},removeNode(r,n){r.children.remove(n),n instanceof Oe&&n.destroy()},getParentNode(r){var n;return(n=r.parent)!=null?n:void 0},getFirstChild(r){return r.children[0]},getNextSibling(r){if(r.parent){const n=r.parent.children||[],e=n.indexOf(r)+1;if(e<n.length)return n[e]}}},xr=ii(si),ai=xr.render,{effect:la,memo:Fn,createComponent:a,createElement:Ae,createTextNode:ca,insertNode:ua,insert:vt,spread:et,setProp:gt,mergeProps:Y,use:In}=xr;function M(r=""){return Ko(r)?r:typeof r=="string"?r.startsWith("#")?+(r.replace("#","0x")+(r.length===7?"ff":"")):r.startsWith("0x")?Number(r):+("0x"+(r.length===6?r+"ff":r)):0}function li(r){return r*Math.PI/180}const Yn="_$DX_DELEGATE";function ci(r,n=window.document){const e=n[Yn]||(n[Yn]=new Set);for(let t=0,o=r.length;t<o;t++){const i=r[t];e.has(i)||(e.add(i),n.addEventListener(i,ui))}}function ui(r){const n="$$".concat(r.type);let e=r.composedPath&&r.composedPath()[0]||r.target;for(r.target!==e&&Object.defineProperty(r,"target",{configurable:!0,value:e}),Object.defineProperty(r,"currentTarget",{configurable:!0,get(){return e||document}});e;){const t=e[n];if(t&&!e.disabled){const o=e["".concat(n,"Data")];if(o!==void 0?t.call(e,o,r):t.call(e,r),r.cancelBubble)return}e=e._$host||e.parentNode||e.host}}const hi=!1;function di(){let r=new Set;function n(o){return r.add(o),()=>r.delete(o)}let e=!1;function t(o,i){if(e)return!(e=!1);const s={to:o,options:i,defaultPrevented:!1,preventDefault:()=>s.defaultPrevented=!0};for(const l of r)l.listener({...s,from:l.location,retry:c=>{c&&(e=!0),l.navigate(o,i)}});return!s.defaultPrevented}return{subscribe:n,confirm:t}}const fi=/^(?:[a-z0-9]+:)?\/\//i,gi=/^\/+|(\/)\/+$/g;function ct(r,n=!1){const e=r.replace(gi,"$1");return e?n||/^[?#]/.test(e)?e:"/"+e:""}function At(r,n,e){if(fi.test(n))return;const t=ct(r),o=e&&ct(e);let i="";return!o||n.startsWith("/")?i=t:o.toLowerCase().indexOf(t.toLowerCase())!==0?i=t+o:i=o,(i||"/")+ct(n,!i)}function pi(r,n){if(r==null)throw new Error(n);return r}function mi(r,n){return ct(r).replace(/\/*(\*.*)?$/g,"")+ct(n)}function yr(r){const n={};return r.searchParams.forEach((e,t)=>{n[t]=e}),n}function xi(r,n,e){const[t,o]=r.split("/*",2),i=t.split("/").filter(Boolean),s=i.length;return l=>{const c=l.split("/").filter(Boolean),u=c.length-s;if(u<0||u>0&&o===void 0&&!n)return null;const h={path:s?"":"/",params:{}},f=v=>e===void 0?void 0:e[v];for(let v=0;v<s;v++){const _=i[v],y=c[v],x=_[0]===":",S=x?_.slice(1):_;if(x&&rn(y,f(S)))h.params[S]=y;else if(x||!rn(y,_))return null;h.path+="/".concat(y)}if(o){const v=u?c.slice(-u).join("/"):"";if(rn(v,f(o)))h.params[o]=v;else return null}return h}}function rn(r,n){const e=t=>t.localeCompare(r,void 0,{sensitivity:"base"})===0;return n===void 0?!0:typeof n=="string"?e(n):typeof n=="function"?n(r):Array.isArray(n)?n.some(e):n instanceof RegExp?n.test(r):!1}function yi(r){const[n,e]=r.pattern.split("/*",2),t=n.split("/").filter(Boolean);return t.reduce((o,i)=>o+(i.startsWith(":")?2:3),t.length-(e===void 0?0:1))}function vr(r){const n=new Map,e=Vt();return new Proxy({},{get(t,o){return n.has(o)||Vr(e,()=>n.set(o,Z(()=>r()[o]))),n.get(o)()},getOwnPropertyDescriptor(){return{enumerable:!0,configurable:!0}},ownKeys(){return Reflect.ownKeys(r())}})}function wr(r){let n=/(\/?\:[^\/]+)\?/.exec(r);if(!n)return[r];let e=r.slice(0,n.index),t=r.slice(n.index+n[0].length);const o=[e,e+=n[1]];for(;n=/^(\/\:[^\/]+)\?/.exec(t);)o.push(e+=n[1]),t=t.slice(n[0].length);return wr(t).reduce((i,s)=>[...i,...o.map(l=>l+s)],[])}const vi=100,_r=nr(),Qt=nr(),Sr=()=>pi(_n(_r),"Make sure your app is wrapped in a <Router />"),wi=()=>_n(Qt)||Sr().base,tt=()=>Sr().navigatorFactory(),kn=()=>wi().params;function _i(r,n=""){const{component:e,load:t,children:o,metadata:i}=r,s=!o||Array.isArray(o)&&!o.length,l={key:r,component:e,load:t,metadata:i};return br(r.path).reduce((c,u)=>{for(const h of wr(u)){const f=mi(n,h),v=s?f:f.split("/*",1)[0];c.push({...l,originalPath:h,pattern:v,matcher:xi(v,!s,r.matchFilters)})}return c},[])}function Si(r,n=0){return{routes:r,score:yi(r[r.length-1])*1e4-n,matcher(e){const t=[];for(let o=r.length-1;o>=0;o--){const i=r[o],s=i.matcher(e);if(!s)return null;t.unshift({...s,route:i})}return t}}}function br(r){return Array.isArray(r)?r:[r]}function Tr(r,n="",e=[],t=[]){const o=br(r);for(let i=0,s=o.length;i<s;i++){const l=o[i];if(l&&typeof l=="object"){l.hasOwnProperty("path")||(l.path="");const c=_i(l,n);for(const u of c){e.push(u);const h=Array.isArray(l.children)&&l.children.length===0;if(l.children&&!h)Tr(l.children,u.pattern,e,t);else{const f=Si([...e],t.length);t.push(f)}e.pop()}}}return e.length?t:t.sort((i,s)=>s.score-i.score)}function Cr(r,n){for(let e=0,t=r.length;e<t;e++){const o=r[e].matcher(n);if(o)return o}return[]}function bi(r,n){const e=new URL("http://sar"),t=Z(c=>{const u=r();try{return new URL(u,e)}catch(h){return console.error("Invalid path ".concat(u)),c}},e,{equals:(c,u)=>c.href===u.href}),o=Z(()=>t().pathname),i=Z(()=>t().search,!0),s=Z(()=>t().hash),l=()=>"";return{get pathname(){return o()},get search(){return i()},get hash(){return s()},get state(){return n()},get key(){return l()},query:vr(Ee(i,()=>yr(t())))}}let Le;function Ti(r,n,e={}){const{signal:[t,o],utils:i={}}=r,s=i.parsePath||(w=>w),l=i.renderPath||(w=>w),c=i.beforeLeave||di(),u=At("",e.base||"");if(u===void 0)throw new Error("".concat(u," is not a valid base path"));u&&!t().value&&o({value:u,replace:!0,scroll:!1});const[h,f]=B(!1),v=async w=>{f(!0);try{await Kr(w)}finally{f(!1)}},[_,y]=B(t().value),[x,S]=B(t().state),T=bi(_,x),p=[],m=B([]),g={pattern:u,params:{},path:()=>u,outlet:()=>null,resolvePath(w){return At(u,w)}};return ve(()=>{const{value:w,state:R}=t();oe(()=>{w!==_()&&v(()=>{Le="native",y(w),S(R),m[1]([])}).then(()=>{Le=void 0})})}),{base:g,location:T,isRouting:h,renderPath:l,parsePath:s,navigatorFactory:E,beforeLeave:c,preloadRoute:b,submissions:m};function C(w,R,k){oe(()=>{if(typeof R=="number"){R&&(i.go?c.confirm(R,k)&&i.go(R):console.warn("Router integration does not support relative routing"));return}const{replace:I,resolve:A,scroll:O,state:W}={replace:!1,resolve:!0,scroll:!0,...k},ee=A?w.resolvePath(R):At("",R);if(ee===void 0)throw new Error("Path '".concat(R,"' is not a routable path"));if(p.length>=vi)throw new Error("Too many redirects");const q=_();if((ee!==q||W!==x())&&!hi){if(c.confirm(ee,k)){const le=p.push({value:q,replace:I,scroll:O,state:x()});v(()=>{Le="navigate",y(ee),S(W),m[1]([])}).then(()=>{p.length===le&&(Le=void 0,F({value:ee,state:W}))})}}})}function E(w){return w=w||_n(Qt)||g,(R,k)=>C(w,R,k)}function F(w){const R=p[0];R&&((w.value!==R.value||w.state!==R.state)&&o({...w,replace:R.replace,scroll:R.scroll}),p.length=0)}function b(w,R){const k=Cr(n(),w.pathname),I=Le;Le="preload";for(let A in k){const{route:O,params:W}=k[A];O.component&&O.component.preload&&O.component.preload(),R&&O.load&&O.load({params:W,location:{pathname:w.pathname,search:w.search,hash:w.hash,query:yr(w),state:null,key:""},intent:"preload"})}Le=I}}function Ci(r,n,e,t,o){const{base:i,location:s}=r,{pattern:l,component:c,load:u}=t().route,h=Z(()=>t().path);c&&c.preload&&c.preload();const f=u?u({params:o,location:s,intent:Le||"initial"}):void 0;return{parent:n,pattern:l,path:h,params:o,outlet:()=>c?lr(c,{params:o,location:s,data:f,get children(){return e()}}):e(),resolvePath(_){return At(i.path(),_,h())}}}const Ri=r=>n=>{const{base:e}=n,t=Sn(()=>n.children),o=Z(()=>Tr(n.root?{component:n.root,children:t()}:t(),n.base||"")),i=Ti(r,o,{base:e});return r.create&&r.create(i),a(_r.Provider,{value:i,get children(){return a(Ei,{routerState:i,get branches(){return o()}})}})};function Ei(r){const n=Z(()=>Cr(r.branches,r.routerState.location.pathname)),e=vr(()=>{const s=n(),l={};for(let c=0;c<s.length;c++)Object.assign(l,s[c].params);return l}),t=[];let o;const i=Z(Ee(n,(s,l,c)=>{let u=l&&s.length===l.length;const h=[];for(let f=0,v=s.length;f<v;f++){const _=l&&l[f],y=s[f];c&&_&&y.route.key===_.route.key?h[f]=c[f]:(u=!1,t[f]&&t[f](),Ze(x=>{t[f]=x,h[f]=Ci(r.routerState,h[f-1]||r.routerState.base,Fi(()=>i()[f+1]),()=>n()[f],e)}))}return t.splice(s.length).forEach(f=>f()),c&&u?c:(o=h[0],h)}));return a(Re,{get when(){return i()&&o},keyed:!0,children:s=>a(Qt.Provider,{value:s,get children(){return s.outlet()}})})}const Fi=r=>()=>a(Re,{get when(){return r()},keyed:!0,children:n=>a(Qt.Provider,{value:n,get children(){return n.outlet()}})}),ce=r=>{const n=Sn(()=>r.children);return Tn(r,{get children(){return n()}})};function Ii([r,n],e,t){return[e?()=>e(r()):r,t?o=>n(t(o)):n]}function ki(r){if(r==="#")return null;try{return document.querySelector(r)}catch(n){return null}}function Li(r){let n=!1;const e=o=>typeof o=="string"?{value:o}:o,t=Ii(B(e(r.get()),{equals:(o,i)=>o.value===i.value}),void 0,o=>(!n&&r.set(o),o));return r.init&&ze(r.init((o=r.get())=>{n=!0,t[1](e(o)),n=!1})),Ri({signal:t,create:r.create,utils:r.utils})}function zi(r,n,e){return r.addEventListener(n,e),()=>r.removeEventListener(n,e)}function Ai(r,n){const e=ki("#".concat(r));e?e.scrollIntoView():n&&window.scrollTo(0,0)}const Pi=new Map;function Mi(r=!0,n=!1,e="/_server"){return t=>{const o=t.base.path(),i=t.navigatorFactory(t.base);let s={};function l(y){return y.namespaceURI==="http://www.w3.org/2000/svg"}function c(y){if(y.defaultPrevented||y.button!==0||y.metaKey||y.altKey||y.ctrlKey||y.shiftKey)return;const x=y.composedPath().find(C=>C instanceof Node&&C.nodeName.toUpperCase()==="A");if(!x||n&&!x.getAttribute("link"))return;const S=l(x),T=S?x.href.baseVal:x.href;if((S?x.target.baseVal:x.target)||!T&&!x.hasAttribute("state"))return;const m=(x.getAttribute("rel")||"").split(/\s+/);if(x.hasAttribute("download")||m&&m.includes("external"))return;const g=S?new URL(T,document.baseURI):new URL(T);if(!(g.origin!==window.location.origin||o&&g.pathname&&!g.pathname.toLowerCase().startsWith(o.toLowerCase())))return[x,g]}function u(y){const x=c(y);if(!x)return;const[S,T]=x,p=t.parsePath(T.pathname+T.search+T.hash),m=S.getAttribute("state");y.preventDefault(),i(p,{resolve:!1,replace:S.hasAttribute("replace"),scroll:!S.hasAttribute("noscroll"),state:m&&JSON.parse(m)})}function h(y){const x=c(y);if(!x)return;const[S,T]=x;s[T.pathname]||t.preloadRoute(T,S.getAttribute("preload")!=="false")}function f(y){const x=c(y);if(!x)return;const[S,T]=x;s[T.pathname]||(s[T.pathname]=setTimeout(()=>{t.preloadRoute(T,S.getAttribute("preload")!=="false"),delete s[T.pathname]},200))}function v(y){const x=c(y);if(!x)return;const[,S]=x;s[S.pathname]&&(clearTimeout(s[S.pathname]),delete s[S.pathname])}function _(y){let x=y.submitter&&y.submitter.hasAttribute("formaction")?y.submitter.formAction:y.target.action;if(!x)return;if(!x.startsWith("action:")){const T=new URL(x);if(x=t.parsePath(T.pathname+T.search),!x.startsWith(e))return}if(y.target.method.toUpperCase()!=="POST")throw new Error("Only POST forms are supported for Actions");const S=Pi.get(x);if(S){y.preventDefault();const T=new FormData(y.target);S.call(t,T)}}ci(["click","submit"]),document.addEventListener("click",u),r&&(document.addEventListener("mouseover",f),document.addEventListener("mouseout",v),document.addEventListener("focusin",h),document.addEventListener("touchstart",h)),document.addEventListener("submit",_),ze(()=>{document.removeEventListener("click",u),r&&(document.removeEventListener("mouseover",f),document.removeEventListener("mouseout",v),document.removeEventListener("focusin",h),document.removeEventListener("touchstart",h)),document.removeEventListener("submit",_)})}}function Ni(r){const n=r.replace(/^.*?#/,"");if(!n.startsWith("/")){const[,e="/"]=window.location.hash.split("#",2);return"".concat(e,"#").concat(n)}return n}function $i(r){return Li({get:()=>window.location.hash.slice(1),set({value:n,replace:e,scroll:t,state:o}){e?window.history.replaceState(o,"","#"+n):window.location.hash=n;const i=n.indexOf("#"),s=i>=0?n.slice(i+1):"";Ai(s,t)},init:n=>zi(window,"hashchange",()=>n()),create:Mi(r.preload,r.explicitLinks,r.actionBase),utils:{go:n=>window.history.go(n),renderPath:n=>"#".concat(n),parsePath:Ni}})(r)}var Bi=!!so,Di=Bi?r=>Vt()?ze(r):r:ze;function Oi(r,n,e,t){return r.addEventListener(n,e,t),Di(r.removeEventListener.bind(r,n,e,t))}function Yi(r,n=Vt()){let e=0,t,o;return()=>(e++,ze(()=>{e--,queueMicrotask(()=>{!e&&o&&(o(),o=t=void 0)})}),o||Ze(i=>t=r(o=i),n),t)}var Wi=Yi(()=>{const[r,n]=B(null);return Oi(window,"keydown",e=>{n(e),setTimeout(()=>n(null))}),r});function Ct(r){return typeof r=="function"}function Wn(r,n){if(!r)throw new Error(n||"Assertion failed")}let on={Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Enter:"Enter",Last:"l"};const[Ot,Ui]=B([]),Xi=(r={})=>{const n=Wi();on={...on,...r};const e=Object.entries(on);return me(Ee(Dt,(t,o,i=[])=>{var c;let s=t;const l=[];for(;s;)s.states.has("focus")||(s.states.add("focus"),Ct(s.onFocus)&&s.onFocus.call(s,t,o!=null?o:null)),l.push(s),s=(c=s.parent)!=null?c:null;return i.forEach(u=>{l.includes(u)||(u.states.remove("focus"),Ct(u.onBlur)&&u.onBlur.call(u,t,o!=null?o:null))}),Ui(l),l},{defer:!0})),me(()=>{const t=n();if(t){const o=e.find(([i,s])=>s===t.key);oe(()=>{const i=Ot();for(const s of i){const l=o?o[0]:void 0;if(l){const c=s["on".concat(l)];if(Ct(c)&&c.call(s,t,s)===!0)break}else console.log("Unhandled key event: ".concat(t.key));if(Ct(s.onKeyPress)&&s.onKeyPress.call(s,t,l,s)===!0)break}return!1})}}),Ot};function Rr(r,n){const e=n();let t,o,i,s;Array.isArray(e)?e.length===2?(t=s=e[0],o=i=e[1]):e.length===3?(t=e[0],o=i=e[1],s=e[2]):[t,i,s,o]=e:t=i=s=o=e,r.onBeforeLayout=(l,c)=>{if(c){r.width=r.children.reduce((f,v)=>f+(v.width||0),0)+o+i;const u=r.children[0];u&&(u.x=o,u.marginLeft=o);let h=0;r.children.forEach(f=>{f.y=(f.y||0)+t,f.marginTop=t,h=Math.max(h,f.height||0)}),r.height=h+t+s}}}function ji(r=[]){const n=[];let e;for(e=0;e<r.length;e++){const t=r[e];if(typeof t=="string"&&!t.includes("PAUSE-"))n.push(r[e]);else break}return[n.join(",\b ")].concat(r.slice(e))}function Un(r){return new Promise(n=>{setTimeout(n,r)})}function Hi(r,n,e="en-US"){const t=window.speechSynthesis;return new Promise((o,i)=>{const s=new SpeechSynthesisUtterance(r);s.lang=e,s.onend=()=>{o()},s.onerror=l=>{i(l)},n.push(s),t.speak(s)})}function pn(r,n,e=!0){const t=window.speechSynthesis,o=ji(Array.isArray(r)?r:[r]),i=[],s=[];let l=!0;return{series:(async()=>{try{for(;l&&o.length;){const u=await Promise.resolve(o.shift());if(l){if(typeof u=="string"&&u.includes("PAUSE-")){let h=Number(u.split("PAUSE-")[1])*1e3;isNaN(h)&&(h=0),await Un(h)}else if(typeof u=="string"&&u.length){let f=3;for(;l&&f>0;)try{await Hi(u,s,n),f=0}catch(v){if(v instanceof SpeechSynthesisErrorEvent)if(v.error==="network")f--,console.warn("Speech synthesis network error. Retries left: ".concat(f)),await Un(500*(3-f));else if(v.error==="canceled"||v.error==="interrupted")f=0;else throw new Error("SpeechSynthesisErrorEvent: ".concat(v.error));else throw v}}else if(typeof u=="function"){const h=pn(u(),n,!1);i.push(h),await h.series}else if(Array.isArray(u)){const h=pn(u,n,!1);i.push(h),await h.series}}else break}}finally{l=!1}})(),get active(){return l},append:u=>{o.push(u)},cancel:()=>{l&&(e&&t.cancel(),i.forEach(u=>{u.cancel()}),l=!1)}}}let Rt;function Gi(r,n="en-US"){return Rt&&Rt.cancel(),Rt=pn(r,n),Rt}var Vi=(r,n)=>{let e;const t=()=>clearTimeout(e);return Vt()&&ze(t),Object.assign((...i)=>{e!==void 0&&t(),e=setTimeout(()=>r(...i),n)},{clear:t})};let mn,ut=[],ye,xn=!1;const Ki=3e5;function Xn(r,n){const e=Vi(r,n);let t;const o=i=>{t=i,e(i)};return o.flush=()=>{e.clear(),r(t)},o.clear=e.clear,o}function it(r){return r.id||r.name}function qi(r=[]){if(!J.onFocusChange||!J.enabled)return;const n=r.every(i=>!i.loading),e=r.filter(i=>!ut.includes(i));if(mn(),!n&&J.onFocusChange){J.onFocusChange([]);return}ut=r.slice(0);const t=[],o=e.reduce((i,s)=>(s.announce?(i.push([it(s),"Announce",s.announce]),t.push(s.announce)):s.title?(i.push([it(s),"Title",s.title]),t.push(s.title)):i.push([it(s),"No Announce",""]),i),[]);if(e.reverse().reduce((i,s)=>(s.announceContext?(i.push([it(s),"Context",s.announceContext]),t.push(s.announceContext)):i.push([it(s),"No Context",""]),i),o),J.debug&&console.table(o),t.length)return J.speak(t.reduce((i,s)=>i.concat(s),[]))}function Qi(r){if(!xn)return ye=Gi(r)}const J={debug:!1,enabled:!0,cancel:function(){ye&&ye.cancel()},clearPrevFocus:function(r=0){ut=ut.slice(0,r),mn()},speak:function(r,{append:n=!1,notification:e=!1}={}){return J.onFocusChange&&J.enabled&&(J.onFocusChange.flush(),n&&ye&&ye.active?ye.append(r):(J.cancel(),Qi(r)),e&&(xn=!0,ye==null||ye.series.finally(()=>{xn=!1,J.refresh()}).catch(console.error))),ye},refresh:function(r=0){J.clearPrevFocus(r),J.onFocusChange&&J.onFocusChange(oe(()=>Ot()))},setupTimers:function({focusDebounce:r=400,focusChangeTimeout:n=Ki}={}){J.onFocusChange=Xn(qi,r),mn=Xn(()=>{ut=[]},n)}},Ji=()=>(J.setupTimers(),me(Ee(Ot,J.onFocusChange,{defer:!0})),J);function Yt(r){return function(){var i,s;const n=this.children.length,e=this.wrap,t=this.selected;if(r==="right"||r==="down")do if(this.selected=(this.selected||0)%n+1,this.selected>=n){if(!e){this.selected=null;break}this.selected=0}while((i=this.children[this.selected])!=null&&i.skipFocus);else if(r==="left"||r==="up")do if(this.selected=(this.selected||0)%n-1,this.selected<0){if(!e){this.selected=null;break}this.selected=n-1}while((s=this.children[this.selected])!=null&&s.skipFocus);if(this.selected===null)return this.selected=t,!1;const o=this.children[this.selected];if(Wn(o instanceof Oe),this.onSelectedChanged&&this.onSelectedChanged.call(this,this,o,this.selected,t),this.plinko&&t!==null){const l=this.children[t];Wn(l instanceof Oe);const c=l.selected;o.selected=c}return cr(o),!0}}function X(r){const n=Yt("left"),e=Yt("right"),t={display:"flex",justifyContent:"flexStart"};return(()=>{const o=Ae("node");return gt(o,"onLeft",n),gt(o,"onRight",e),et(o,Y({get selected(){return r.selected||0},get onFocus(){return r.onFocus||(i=>{if(!i||i.selected===null)return;let s=i.children[i.selected];for(;s!=null&&s.skipFocus;)i.selected++,s=i.children[i.selected];s instanceof Oe&&s.setFocus()})},get style(){return r.style||t}},r),!0),vt(o,()=>r.children),o})()}function V(r){const n=Yt("up"),e=Yt("down"),t={display:"flex",flexDirection:"column",justifyContent:"flexStart"};return(()=>{const o=Ae("node");return gt(o,"onUp",n),gt(o,"onDown",e),et(o,Y({get onFocus(){return r.onFocus||(i=>{if(!i||i.selected===null)return;let s=i.children[i.selected];for(;s!=null&&s.skipFocus;)i.selected++,s=i.children[i.selected];s instanceof Oe&&s.setFocus()})},get selected(){return r.selected||0},get style(){return r.style||t}},r),!0),vt(o,()=>r.children),o})()}function Zi(r,n){const e=we.createTexture("ImageTexture",{src:r});return n.reduce((t,o)=>{const{x:i,y:s,width:l,height:c}=o;return t[o.name]=we.createTexture("SubTexture",{texture:e,x:i,y:s,width:l,height:c}),t},{})}const[es,Pe]=B(""),ts={display:"flex",flexDirection:"row",justifyContent:"flexStart"},ns={display:"flex",flexDirection:"column",justifyContent:"flexStart"},rs={screenW:1920,screenH:1080,marginX:120,marginY:120,gutterX:24,gutterY:72,focusScale:1.1},os={primary:"#00315c",focus:"#bdbdbd",container:"#004882"},is={display1:{fontFamily:"Ubuntu",fontSize:72,lineHeight:88,fontStyle:"600",verticalAlign:"middle",textBaseline:"bottom",maxLineSuffix:"..."},display2:{fontFamily:"Ubuntu",fontSize:56,lineHeight:72},headline1:{fontFamily:"Ubuntu",fontSize:36,fontStyle:"600",lineHeight:48,verticalAlign:"middle",textBaseline:"bottom",maxLineSuffix:"..."},headline2:{fontFamily:"Ubuntu",fontSize:32,lineHeight:44},headline3:{fontFamily:"Ubuntu",fontSize:28,lineHeight:40},body1:{fontFamily:"Ubuntu",fontSize:32,lineHeight:40},body2:{fontFamily:"Ubuntu",fontSize:28,lineHeight:34},button1:{fontFamily:"Ubuntu",fontSize:32,lineHeight:40}},K={flexRow:ts,flexColumn:ns,layout:rs,color:os,typography:is};function ss(){let r,n,e=0;const t=1,o={alpha:t,color:4294967295},i={duration:1e3,easing:"ease-in-out"};return me(Ee(es,s=>{if(s.startsWith("#")){r.color=s,r.src="",r.alpha=1,e=1,n.alpha=0;return}else r.color=4294967295;if(e===0){r.src=s,e=1;return}if(e===1){n.src=s,e=2,n.alpha=[t],r.alpha=[0];return}e===2&&(r.src=s,e=1,r.alpha=t,n.alpha=0)},{defer:!0})),a(P,{width:1920,height:1080,zIndex:-5,get children(){return[a(P,{ref(s){const l=r;typeof l=="function"?l(s):r=s},animate:!0,animationSettings:i,style:o}),a(P,{ref(s){const l=n;typeof l=="function"?l(s):n=s},animate:!0,animationSettings:i,style:o,alpha:0}),a(P,{get effects(){return{radialGradient:{colors:[124,124,M(K.color.container)],stops:[0,.4,.9],height:800,width:1920,pivot:[.8,0]}}}})]}})}const yn={Column:{...K.flexColumn,width:320,height:600,y:360,gap:20,zIndex:101,x:[8,{duration:250,easing:"ease-in-out"}],focus:{x:[K.layout.marginX,{duration:250,easing:"ease-in-out"}]}},Gradient:{zIndex:99,linearGradient:{angle:li(270),stops:[0,.4,.8],colors:[M(K.color.primary),M(K.color.primary),M("#00000000")]},alpha:[0],focus:{width:1600,alpha:[1]},width:100,height:1080},NavButton:{zIndex:102,height:70,width:100,borderRadius:8,focus:{color:M(K.color.container)},active:{width:328,height:70}}},as="./",ls=[{name:"experiment",width:81,height:100,x:0,y:0},{name:"trending",width:100,height:56,x:81,y:0},{name:"tv",width:100,height:68,x:181,y:0},{name:"movie",width:94,height:100,x:282,y:0}];function cs(r){const n=Zi(as+"assets/icons_white.png",ls);return a(P,Y(r,{get texture(){return n[r.name]},get width(){return n[r.name].props.width},get height(){return n[r.name].props.height},get x(){return(100-(n[r.name].props.width||0))/2},get y(){return(100-(n[r.name].props.height||0))/2}}))}function Et(r){return a(P,Y(r,{forwardStates:!0,get style(){return yn.NavButton},get children(){return[a(P,{y:-16,get children(){return a(cs,{scale:.5,get name(){return r.icon}})}}),a(z,{get style(){return{...K.typography.button1,fontSize:38,x:116,y:16,height:50,alpha:0,active:{alpha:1}}},get children(){return r.children}})]}}))}function us(r){let n;const e=tt();function t(){n.states.add("focus"),this.children.forEach(i=>i.states.add("active")),this.children.selected.setFocus()}function o(){n.states.remove("focus"),this.selected=0,this.children.forEach(i=>i.states.remove("active"))}return[a(V,Y(r,{onFocus:t,onBlur:o,get style(){return yn.Column},animate:!0,get children(){return[a(Et,{onEnter:()=>e("/browse/all"),icon:"trending",children:"Trending"}),a(Et,{icon:"movie",onEnter:()=>e("/browse/movie"),children:"Movies"}),a(Et,{icon:"tv",onEnter:()=>e("/browse/tv"),children:"TV"}),a(Et,{icon:"experiment",onEnter:()=>e("/examples"),children:"Examples"})]}})),a(P,{ref(i){const s=n;typeof s=="function"?s(i):n=i},get style(){return yn.Gradient}})]}const ae={Page:{width:1920,height:1080},headlineText:{width:1200,height:240,x:360,y:455,contain:"both",fontSize:66,textAlign:"center"},headlineSubText:{width:960,height:170,x:530,y:655,contain:"both",fontSize:48,textAlign:"center"},itemsContainer:{width:K.layout.screenW,height:600,y:560,x:0,zIndex:2},Thumbnail:{borderRadius:16,width:185,height:278,scale:1,zIndex:2,focus:{scale:1.1}},FocusRing:{borderRadius:16,width:194,height:286,y:-5,x:-5,zIndex:-1},showHeadline:{x:70,y:20},headlineBlur:{width:1920,height:150,x:0,y:0,zIndex:14,alpha:.9,color:M("#000000")},RowTitle:{height:60,width:300,marginTop:20,fontSize:36,color:M("#f0f0f0"),zIndex:2},Row:{display:"flex",justifyContent:"spaceBetween",height:300},Column:{display:"flex",flexDirection:"column",justifyContent:"flexStart",gap:20,width:K.layout.screenW-2*K.layout.marginX,x:K.layout.marginX+K.layout.gutterX,y:48,zIndex:2},Rect:{width:250,height:100,y:10,x:300,color:M("#0000ff")},peopleBio:{...K.typography.body1,contain:"both",width:1500,height:400}},Wt={width:120,height:40,color:M("#000000"),borderRadius:8,border:{width:2,color:M("#3333ff")},scale:1,focus:{scale:1.1,border:{width:5,color:M("#333333")}}},hs={color:M("#00A699"),height:8,y:2,x:-4,width:Wt.width+8},ds={fontSize:12,y:12,contain:"width",textAlign:"center",color:M("#F6F6F9"),height:Wt.height,width:Wt.width},Ut={container:Wt,topBar:hs,text:ds},jn={width:386,height:136,color:M("#715cab"),focus:{color:M("#5a39a2")},disabled:{color:M("#291d43")}},fs={fontSize:32,contain:"width",textAlign:"center",mountY:-.35,color:M("#FFFFFF"),height:jn.height,width:jn.width,focus:{fontSize:40},disabled:{color:M("#909090")}};function gs(r){return a(P,Y(r,{animate:!0,get style(){return ae.Thumbnail}}))}function ps(r){return a(P,Y(r,{get style(){return ae.FocusRing}}))}function Xt(r){const[n,e]=oo(r,["items"]);return a(X,Y(e,{get style(){return ae.Row},get children(){return a(qt,{get each(){return n.items},children:t=>a(gs,t)})}}))}function ms(r){return a(P,Y(r,{forwardStates:!0,animate:!0,get style(){return Ut.container},get children(){return a(z,{get style(){return Ut.text},get children(){return r.children}})}}))}const xs=r=>{Xi({Menu:"m",Escape:"Escape"});const n=Ji();n.enabled=!1;const e=tt();let t,o,i;return me(Ee(Dt,s=>{L(s),setTimeout(()=>{s.heroContent?(t.parent=s.parent,t.alpha=1,t.scale=1,t.x=s.x-5,t.y=s.y-5,t.width=s.width+10,t.height=s.height+10,t.createAnimation({scale:1.1}).start()):t.alpha=0},10)},{defer:!0})),a(P,{ref(s){const l=window.APP;typeof l=="function"?l(s):window.APP=s},onLast:()=>history.back(),onMenu:()=>e("/"),style:{width:1920,height:1080},onLeft:()=>{if(o.states.has("focus"))return!1;i=Dt(),o.setFocus()},onRight:()=>o.states.has("focus")&&i.setFocus(),get children(){return[a(ss,{}),a(ps,{get color(){return M(K.color.focus)},ref(s){const l=t;typeof l=="function"?l(s):t=s}}),Fn(()=>r.children),a(us,{ref(s){const l=o;typeof l=="function"?l(s):o=s}})]}})},ys="e9e9d8da18ae29fc430845952232787c",vs="596e02522af6fe40f284e6de58fd0865f2cbaae3",ws="https://api.themoviedb.org/3";let Er,Fr;const _s="w185",Ss={headers:{"Content-Type":"application/json",Authorization:"Bearer "+vs}};function ht(r,n=_s){return Fr+n+r}function bs(r,n={}){return Er?vn(r,n):Ir().then(()=>vn(r,n))}function vn(r,n={}){return fetch(ws+r+(r.includes("?")?"&":"?")+"api_key="+ys,{...Ss,...n}).then(e=>e.json())}function Ir(){return vn("/configuration").then(r=>{var n;return Er=r,Fr=(n=r.images)==null?void 0:n.secure_base_url,r})}const Ye={get:bs,loadConfig:Ir};function Ts(r,n){return r.length>n?r.substring(0,n-3)+"...":r}function Cs(r,n=7){let e=[];for(let t=0,o=r.length;t<o;t+=n)e.push(r.slice(t,t+n));return e}function pt(r=[]){return r.map(n=>({src:ht(n.poster_path||n.profile_path),tileSrc:ht(n.backdrop_path||n.profile_path,"w300"),backdrop:ht(n.backdrop_path,"w1280"),href:"/entity/".concat(n.media_type||"people","/").concat(n.id),shortTitle:Ts(n.title||n.name,30),title:n.title||n.name,data:n,entityInfo:{type:n.media_type||"people",id:n.id},heroContent:{title:n.title||n.name,description:n.overview}}))}let sn=new Map;const Ft=new Map;function Rs(r){return n=>{const e="/trending/".concat(r,"/week?page=").concat(n);if(sn.has(e))return sn.get(e);let t=Ye.get(e).then(o=>{let i=o.results.filter(c=>!c.adult),s=(Ft.has(r)?Ft.get(r):[]).concat(pt(i)),l=Cs(s);return l[l.length-1].length<7?Ft.set(r,l.pop()):Ft.delete(r),l});return sn.set(e,t),t}}function Es(r){const[n,e]=B([]),[t,o]=B(1),[i,s]=B(!1),[l]=De(t,r);return an(()=>{const c=l();c&&Gr(()=>{c.length===0&&s(!0),e(u=>[...u,...c])})}),{pages:n,page:t,setPage:o,setPages:e,end:i,setEnd:s}}const Jt=1100,Fs={...K.typography.display2,width:Jt,height:58,contain:"both"},Is=r=>a(z,Y(r,{style:Fs,get children(){return r.children}})),ks={...K.typography.body1,width:Jt,height:72,contain:"both"},Ls={fontSize:20,lineHeight:20},zs=r=>a(z,Y(r,{style:ks,get children(){return r.children}}));function As(r){return[a(Re,{get when(){return(r==null?void 0:r.rtCrit)&&(r==null?void 0:r.rtCrit)!=="0"},get children(){return[a(P,{src:"https://upload.wikimedia.org/wikipedia/commons/b/b6/Tomato-Torrent-Icon.png",title:"Rotten Tomatoes Rating",style:{width:30,height:30,marginRight:-6}}),a(z,{style:wn,get children(){return r.rtCrit+"%"}})]}}),a(Re,{get when(){return(r==null?void 0:r.rtFan)&&(r==null?void 0:r.rtFan)!=="0"},get children(){return[a(P,{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/d/da/Rotten_Tomatoes_positive_audience.svg/80px-Rotten_Tomatoes_positive_audience.svg.png",title:"Rotten Tomatoes Rating",style:{width:24,height:30,marginRight:-6}}),a(z,{style:wn,get children(){return r.rtFan+"%"}})]}})]}const Ps=r=>(()=>{const n=Ae("node");return In(Rr,n,()=>[8,15,13,15]),et(n,Y(r,{style:{color:"0x00000099",borderRadius:8,border:{width:3,color:"0xffffffff"}}}),!0),vt(n,a(z,{style:Ls,get children(){return r.children}})),n})(),wn=K.typography.body2,Ms=r=>a(P,{get style(){return{...K.flexRow,gap:12,width:Jt,height:48}},get children(){return[a(z,{style:wn,get children(){return r.metaText}}),a(qt,{get each(){return r.badges},children:n=>a(Ps,{y:-5,children:n})}),Fn(()=>As(r.reviews))]}}),kr=r=>a(P,Y(r,{get style(){return{...K.flexColumn,width:Jt,height:160,gap:16}},get children(){return[a(Is,{get children(){return r.title}}),a(zs,{get children(){return r.description}}),a(Ms,{get metaText(){return r.metaText},get badges(){return r.badges},get reviews(){return r.reviews}})]}}));function Ns(r){const n=Math.floor(r/60),e=r%60;return n+"h "+(e<10?"0":"")+e+"m"}function Hn(r){return r.split("-")[0]}function $s({type:r,id:n}){return Ye.get("/".concat(r,"/").concat(n,"/recommendations")).then(({results:e})=>e.length?pt(e.slice(0,7)):Ye.get("/trending/".concat(r,"/week?page=1")).then(({results:t})=>pt(t.slice(0,7))))}function Bs({type:r,id:n}){return Ye.get("/".concat(r,"/").concat(n,"/credits")).then(({cast:e})=>pt(e.slice(0,7)))}function Lr({type:r,id:n}){let e=r==="movie"?{rtCrit:86,rtFan:92}:{};return Ye.get("/".concat(r,"/").concat(n)).then(t=>({backgroundImage:ht(t.backdrop_path,"original"),heroContent:{title:t.title||t.name,description:t.overview,badges:["HD"],metaText:r==="movie"?Ns(t.runtime)+" - "+t.release_date:"".concat(Hn(t.first_air_date)," - ").concat(Hn(t.last_air_date)),reviews:e},...t}))}const Gn=()=>{const r=kn(),[n,e]=B(0),[t,o]=B();De(t,Lr);const[i,s]=B({}),l=tt(),c=tr(()=>0),u=Z(()=>Es(Rs(r.filter||"all")));me(Ee(Dt,v=>{v.backdrop&&Pe(v.backdrop),v.heroContent&&s(v.heroContent)},{defer:!0}));function h(){var _;(_=this.children.selected)==null||_.setFocus(),e((this.y||0)*-1+24);let v=u().pages().length;(v===0||this.parent.selected&&this.parent.selected>=v-2)&&u().setPage(y=>y+1)}function f(){let v=this.children.selected;L(v&&v.href),l(v.href)}return a(Re,{get when(){return u().pages().length},get children(){return[a(kr,Y({y:360,x:150},i)),a(P,{clipping:!0,get style(){return ae.itemsContainer},get children(){return a(V,{plinko:!0,announce:"All Trending - Week",animate:!0,get y(){return n()},get style(){return ae.Column},get children(){return a(qt,{get each(){return u().pages()},children:(v,_)=>a(Xt,{get autofocus(){return c(_())},items:v,onFocus:h,onEnter:f})})}})}})]}})},Ds=()=>{const r=tt(),n=tr(()=>0);function e(){let c=this.children.selected;L(c&&c.id),r("/"+c.id)}const t=[{title:"Flex Row",id:"flex",description:"Flex Row Implementation"},{title:"Flex Column",id:"flexcolumn",description:"Flex Column Implementation"},{title:"Flex Row Vertical Align",id:"flexsize",description:"Flex Row Vertical Align Implementation"},{title:"Flex Column Vertical Align",id:"flexcolumnsize",description:"Flex Column Vertical Align Implementation"},{title:"Buttons",id:"buttons",description:"Demo a few buttons"},{title:"Text",id:"text",description:"Text layout with flexbox"}];function o(c){const u={width:370,height:320,borderRadius:6,scale:1,color:405488895,focus:{scale:1.1,color:4294967295}},[h,f]=B(4294967295);return a(P,Y(c,{onFocus:()=>f(255),onBlur:()=>f(4294967295),animate:!0,style:u,get children(){return a(P,{x:30,get children(){return[a(z,{y:30,fontSize:84,get color(){return h()},get children(){return c.index}}),a(z,{y:140,fontSize:42,width:340,height:42,contain:"both",get color(){return h()},get children(){return c.title}}),a(z,{y:200,fontSize:28,width:330,contain:"width",get color(){return h()},get children(){return c.description}})]}})}}))}const[i,s]=B(140);function l(c){s(c.selected*-400+140)}return a(P,{colorTop:1147903743,colorBottom:743406847,get children(){return[a(P,{x:120,get children(){return[a(P,{src:"/assets/solidjs.png",width:101,height:90,y:40}),a(z,{fontSize:90,x:110,y:40,children:"Examples"}),a(P,{y:140,height:1,width:1800,color:3906468351})]}}),a(X,{onSelectedChanged:l,onEnter:e,animationSettings:{delay:20,duration:300},animate:!0,get x(){return i()},y:300,width:4400,get style(){return ae.Row},justifyContent:"flexStart",gap:40,get children(){return a(qt,{each:t,children:(c,u)=>a(o,Y({get autofocus(){return n(u())},get index(){return u()}},c))})}})]}})},Os=()=>{const r={width:900,height:500,y:350,x:150,gap:25,display:"flex",flexDirection:"column",justifyContent:"flexStart",color:M("00000000")},n={width:900,height:36,gap:6,display:"flex",flexDirection:"row",justifyContent:"flexStart",color:M("00000000")},e={fontSize:42},t={width:r.width,fontSize:26,contain:"width"},o={fontSize:26};return xt(()=>{Pe("0x000000ff")}),a(P,{autofocus:!0,style:r,get children(){return[a(z,{style:e,children:"Title of the Page"}),a(z,{style:t,children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer vel tempor tellus. Sed eu leo purus. Vestibulum sollicitudin eget tellus a varius. Phasellus est turpis, volutpat sed blandit sit amet, rutrum sit amet mauris. In dignissim elit orci, a sollicitudin ipsum faucibus et. Quisque vel quam rutrum, faucibus augue sed, scelerisque nunc."}),a(P,{style:n,get children(){return[a(z,{style:o,children:"Subline Text"}),a(P,{width:28,height:28,src:"/assets/rt-popcorn.png"}),a(z,{style:o,children:"More Text"})]}})]}})},Ys=()=>{function r(o,i){this.states.toggle("disabled")}const n={display:"flex",justifyContent:"flexStart",width:1500,height:300,color:M("00000000"),gap:26,y:400};function e(o){return a(P,Y(o,{forwardStates:!0,animate:!0,get style(){return Ut.container},get children(){return a(z,{get style(){return Ut.text},get children(){return o.children}})}}))}const t=o=>(()=>{const i=Ae("node");return In(Rr,i,()=>[10,15]),et(i,Y(o,{get style(){return{color:M("#000000be"),borderRadius:8,border:{width:2,color:M("#ffffff")}}}}),!0),vt(i,a(z,{style:{fontSize:20},get children(){return o.children}})),i})();return[a(X,{x:100,y:200,gap:5,style:n,get children(){return[a(t,{children:"HD"}),a(t,{children:"PG13"}),a(t,{children:"NC17"}),a(z,{fontSize:30,children:"I like bananas"}),a(t,{children:"DOLBY"})]}}),a(X,{x:100,gap:40,style:n,get children(){return[a(e,{autofocus:!0,onEnter:r,children:"TV Shows"}),a(e,{states:{active:!0,disabled:!1},children:"Movies"}),a(e,{states:"active",children:"Sports"}),a(e,{states:"disabled",children:"News"})]}})]},Ws=()=>{const r={display:"flex",justifyContent:"flexStart",width:1600,height:110,color:M("#4dabf5")},n={fontSize:44,marginTop:25,marginBottom:-20,skipFocus:!0};function e(l){return a(P,Y(l,{style:{width:200,height:100,y:5,color:392801023}}))}const[t,o]=B(50);function i(){var l;(l=this.children.selected)==null||l.setFocus(),o(150+(this.y||0)*-1)}xt(()=>{Pe("#333333")});const s=50;return a(V,{x:160,get y(){return t()},animate:!0,gap:30,height:850,get width(){return r.width},get style(){return ae.Column},get children(){return[a(z,{style:n,children:"Flex Start"}),a(X,{gap:s,style:r,onFocus:i,get children(){return[a(e,{autofocus:!0}),a(e,{}),a(e,{}),a(e,{}),a(e,{})]}}),a(z,{style:n,children:"Flex Start - Margin Left"}),a(X,{gap:s,style:r,onFocus:i,get children(){return[a(e,{marginLeft:100}),a(e,{}),a(e,{marginLeft:100}),a(e,{}),a(e,{})]}}),a(z,{style:n,children:"Flex End"}),a(X,{gap:s,justifyContent:"flexEnd",style:r,onFocus:i,get children(){return[a(e,{}),a(e,{}),a(e,{}),a(e,{}),a(e,{})]}}),a(z,{style:n,children:"Flex End - Margin Right"}),a(X,{gap:s,justifyContent:"flexEnd",style:r,onFocus:i,get children(){return[a(e,{}),a(e,{marginRight:100}),a(e,{}),a(e,{}),a(e,{marginRight:100})]}}),a(z,{style:n,children:"Center - No Margin Support"}),a(X,{gap:s,justifyContent:"center",style:r,onFocus:i,get children(){return[a(e,{}),a(e,{}),a(e,{}),a(e,{}),a(e,{})]}}),a(z,{style:n,children:"Space Between - No Margin Support"}),a(X,{gap:s,justifyContent:"spaceBetween",style:r,onFocus:i,get children(){return[a(e,{}),a(e,{}),a(e,{}),a(e,{}),a(e,{})]}}),a(z,{style:n,children:"Space Evenly - No Margin Support"}),a(X,{gap:s,justifyContent:"spaceEvenly",style:r,onFocus:i,get children(){return[a(e,{}),a(e,{}),a(e,{}),a(e,{}),a(e,{})]}})]}})},Us=()=>{const r={display:"flex",justifyContent:"flexStart",width:1600,height:110,color:M("#4dabf5")},n={fontSize:44,marginTop:25,marginBottom:-20,skipFocus:!0};function e(c){return a(P,Y(c,{style:{width:200,height:100,y:5,color:392801023}}))}function t(){return Math.floor(Math.random()*91)+10}const[o,i]=B(50);function s(){var c;(c=this.children.selected)==null||c.setFocus(),i(150+(this.y||0)*-1)}xt(()=>{Pe("#333333")});const l=50;return a(V,{x:160,get y(){return o()},animate:!0,gap:30,height:850,get width(){return r.width},get style(){return ae.Column},get children(){return[a(z,{style:n,children:"Flex Start - AlignItems: center"}),a(X,{alignItems:"center",gap:l,style:r,onFocus:s,get children(){return[a(e,{autofocus:!0,get height(){return t()}}),a(e,{get height(){return t()}}),a(e,{get height(){return t()}}),a(e,{get height(){return t()}}),a(e,{get height(){return t()}})]}}),a(z,{style:n,children:"Flex Start - Margin Left - AlignItems: flexStart"}),a(X,{gap:l,alignItems:"flexStart",style:r,onFocus:s,get children(){return[a(e,{marginLeft:100,get height(){return t()}}),a(e,{get height(){return t()}}),a(e,{marginLeft:100,get height(){return t()}}),a(e,{get height(){return t()}}),a(e,{get height(){return t()}})]}}),a(z,{style:n,children:"Flex End - AlignItems: flexEnd"}),a(X,{gap:l,justifyContent:"flexEnd",alignItems:"flexEnd",style:r,onFocus:s,get children(){return[a(e,{get height(){return t()}}),a(e,{get height(){return t()}}),a(e,{get height(){return t()}}),a(e,{get height(){return t()}}),a(e,{get height(){return t()}})]}}),a(z,{style:n,children:"Flex End - Margin Right"}),a(X,{gap:l,justifyContent:"flexEnd",style:r,onFocus:s,get children(){return[a(e,{get height(){return t()}}),a(e,{marginRight:100,get height(){return t()}}),a(e,{get height(){return t()}}),a(e,{get height(){return t()}}),a(e,{marginRight:100,get height(){return t()}})]}}),a(z,{style:n,children:"Center - No Margin Support"}),a(X,{gap:l,justifyContent:"center",style:r,onFocus:s,get children(){return[a(e,{get height(){return t()}}),a(e,{get height(){return t()}}),a(e,{get height(){return t()}}),a(e,{get height(){return t()}}),a(e,{get height(){return t()}})]}}),a(z,{style:n,children:"Space Between - No Margin Support"}),a(X,{gap:l,justifyContent:"spaceBetween",style:r,onFocus:s,get children(){return[a(e,{get height(){return t()}}),a(e,{get height(){return t()}}),a(e,{get height(){return t()}}),a(e,{get height(){return t()}}),a(e,{get height(){return t()}})]}}),a(z,{style:n,children:"Space Evenly - No Margin Support"}),a(X,{gap:l,justifyContent:"spaceEvenly",style:r,onFocus:s,get children(){return[a(e,{get height(){return t()}}),a(e,{get height(){return t()}}),a(e,{get height(){return t()}}),a(e,{get height(){return t()}}),a(e,{get height(){return t()}})]}})]}})},Xs=()=>{const r={display:"flex",justifyContent:"spaceEvenly",width:1920,y:100,height:880,color:M("00000000")},n={display:"flex",flexDirection:"column",justifyContent:"flexStart",color:M("#4dabf5"),height:850,width:80},e={fontSize:44,y:20,x:150};function t(u){const h={width:o(),height:80,x:5,color:M("#1769aa")};return a(P,Y(u,{style:h}))}function o(){return Math.floor(Math.random()*61)+10}const[i,s]=B(50);function l(){var u;(u=this.children.selected)==null||u.setFocus(),s(150+(this.y||0)*-1)}xt(()=>{Pe("#333333")});const c=50;return[a(z,{style:e,children:"Start, MarginTop, End, MarginBottom, Center, Between, Evenly"}),a(X,{gap:c,style:r,onFocus:l,get children(){return[a(V,{gap:30,style:n,alignItems:"center",get children(){return[a(t,{autofocus:!0}),a(t,{}),a(t,{}),a(t,{}),a(t,{})]}}),a(V,{gap:c,style:n,onFocus:l,alignItems:"flexStart",get children(){return[a(t,{marginTop:100}),a(t,{}),a(t,{marginTop:100}),a(t,{}),a(t,{})]}}),a(V,{gap:c,alignItems:"flexEnd",justifyContent:"flexEnd",style:n,onFocus:l,get children(){return[a(t,{}),a(t,{}),a(t,{}),a(t,{}),a(t,{})]}}),a(V,{gap:c,justifyContent:"flexEnd",style:n,onFocus:l,get children(){return[a(t,{}),a(t,{marginBottom:100}),a(t,{}),a(t,{}),a(t,{marginBottom:100})]}}),a(V,{gap:c,justifyContent:"center",style:n,onFocus:l,get children(){return[a(t,{}),a(t,{}),a(t,{}),a(t,{}),a(t,{})]}}),a(V,{gap:c,justifyContent:"spaceBetween",style:n,onFocus:l,get children(){return[a(t,{}),a(t,{}),a(t,{}),a(t,{}),a(t,{})]}}),a(V,{gap:c,justifyContent:"spaceEvenly",style:n,onFocus:l,get children(){return[a(t,{}),a(t,{}),a(t,{}),a(t,{}),a(t,{})]}})]}})]},js=()=>{const r={display:"flex",justifyContent:"spaceEvenly",width:1920,y:100,height:880,color:M("00000000")},n={display:"flex",flexDirection:"column",justifyContent:"flexStart",color:M("#4dabf5"),height:850,width:60},e={fontSize:44,y:20,x:150};function t(c){const u={width:50,height:80,x:5,color:M("#1769aa")};return a(P,Y(c,{style:u}))}const[o,i]=B(50);function s(){var c;(c=this.children.selected)==null||c.setFocus(),i(150+(this.y||0)*-1)}xt(()=>{Pe("#333333")});const l=50;return[a(z,{style:e,children:"Start, MarginTop, End, MarginBottom, Center, Between, Evenly"}),a(X,{gap:l,style:r,onFocus:s,get children(){return[a(V,{gap:30,style:n,get children(){return[a(t,{autofocus:!0}),a(t,{}),a(t,{}),a(t,{}),a(t,{})]}}),a(V,{gap:l,style:n,onFocus:s,get children(){return[a(t,{marginTop:100}),a(t,{}),a(t,{marginTop:100}),a(t,{}),a(t,{})]}}),a(V,{gap:l,justifyContent:"flexEnd",style:n,onFocus:s,get children(){return[a(t,{}),a(t,{}),a(t,{}),a(t,{}),a(t,{})]}}),a(V,{gap:l,justifyContent:"flexEnd",style:n,onFocus:s,get children(){return[a(t,{}),a(t,{marginBottom:100}),a(t,{}),a(t,{}),a(t,{marginBottom:100})]}}),a(V,{gap:l,justifyContent:"center",style:n,onFocus:s,get children(){return[a(t,{}),a(t,{}),a(t,{}),a(t,{}),a(t,{})]}}),a(V,{gap:l,justifyContent:"spaceBetween",style:n,onFocus:s,get children(){return[a(t,{}),a(t,{}),a(t,{}),a(t,{}),a(t,{})]}}),a(V,{gap:l,justifyContent:"spaceEvenly",style:n,onFocus:s,get children(){return[a(t,{}),a(t,{}),a(t,{}),a(t,{}),a(t,{})]}})]}})]},Hs=()=>{function r(i,s){this.states.toggle("disabled")}const n={display:"flex",justifyContent:"flexStart",width:1500,height:300,color:M("00000000"),gap:26,y:400,x:100},e={width:386,height:136,color:"0x715cabff",focus:{color:"0x5a39a2ff"},disabled:{color:"0x291d43ff"}},t=["RoundedRectangle",{radius:65}];function o(i){return a(P,Y(i,{forwardStates:!0,animate:!0,style:e,shader:t,get children(){return a(z,{style:fs,get children(){return i.children}})}}))}return a(X,{style:n,get children(){return[a(o,{autofocus:!0,onEnter:r,children:"Focused"}),a(o,{states:{active:!0,disabled:!1},children:"Normal"}),a(o,{states:"disabled",children:"Disabled"})]}})},Gs="https://storage.googleapis.com/shaka-demo-assets/angel-one/dash.mpd";function Vs(){shaka.polyfill.installAll(),shaka.Player.isBrowserSupported()?Ks():console.error("Browser not supported!")}async function Ks(){const r=document.getElementById("video"),n=new shaka.Player;await n.attach(r),window.player=n,n.addEventListener("error",qs);try{await n.load(Gs),console.log("The video has now been loaded!")}catch(e){zr(e)}}function qs(r){zr(r.detail)}function zr(r){console.error("Error code",r.code,"object",r)}function Qs(){const r=document.getElementById("video");r.hidden=!1,r.play()}function Js(){const r=document.getElementById("video");r.hidden=!0,r.pause()}document.addEventListener("DOMContentLoaded",Vs);const Zs=()=>{const r=kn(),n=tt(),[e]=De(()=>({...r}),Lr),[t]=De(()=>({...r}),Bs),[o]=De(()=>({...r}),$s),[i,s]=B(0);me(Ee(e,x=>{Pe(x.backgroundImage)},{defer:!0}));const l=600,c={color:M("#000000"),alpha:0,width:1900,height:890,x:10,y:l,borderRadius:30};function u(){var x;(x=this.children.selected)==null||x.setFocus(),v.y=l,_.y=l,_.alpha=0}function h(){var x;(x=this.children.selected)==null||x.setFocus(),v.y=200,_.y=160,_.alpha=.9}function f(){let x=this.children.selected;L(x&&x.href),n(x.href)}let v,_,y;return a(Re,{get when(){return e()},keyed:!0,get children(){return[a(P,{onUp:()=>y.setFocus(),onEscape:()=>{Js(),s(0)},get children(){return[a(kr,Y({y:360,x:150},()=>e().heroContent)),a(ms,{autofocus:!0,ref(x){const S=y;typeof S=="function"?S(x):y=x},y:560,x:150,onDown:()=>v.setFocus(),onEnter:()=>{Qs(),s(.9)},children:"Watch Trailer"}),a(V,{animate:!0,ref(x){const S=v;typeof S=="function"?S(x):v=x},y:l,x:140,get style(){return ae.Column},zIndex:5,get children(){return a(Re,{get when(){return Fn(()=>!!o())()&&t()},get children(){return[a(z,{skipFocus:!0,get style(){return ae.RowTitle},children:"Recommendations"}),a(Xt,{onFocus:u,onEnter:f,get items(){return o()}}),a(z,{skipFocus:!0,get style(){return ae.RowTitle},children:"Cast and Crew"}),a(Xt,{onFocus:h,onEnter:f,get items(){return t()}})]}})}}),a(P,{ref(x){const S=_;typeof S=="function"?S(x):_=x},animate:!0,style:c})]}}),a(P,{get alpha(){return i()},get color(){return M("#000000")},zIndex:200})]}})};function ea({id:r}){return Ye.get("/person/".concat(r,"/combined_credits")).then(({cast:n})=>pt(n.slice(0,7)))}function ta({id:r}){return Ye.get("/person/".concat(r)).then(n=>({backgroundImage:ht(n.profile_path,"original"),heroContent:{title:n.title||n.name,description:n.biography},...n}))}const na=()=>{const r=kn(),n=tt(),[e]=De(()=>({...r}),ta),[t]=De(()=>({...r}),ea);me(Ee(e,s=>{Pe(s.backgroundImage)},{defer:!0}));const o={color:M("#000000"),alpha:.8,width:1540,height:440,x:130,y:180,borderRadius:30};function i(){let s=this.children.selected;L(s&&s.href),n(s.href)}return a(Re,{get when(){return e()},keyed:!0,get children(){return[a(P,{x:150,y:200,get style(){return ae.Column},zIndex:3,get children(){return[a(z,{get style(){return K.typography.display2},get children(){return e().name}}),a(z,{get style(){return ae.peopleBio},get children(){return e().biography}})]}}),a(P,{style:o}),a(V,{y:670,x:140,get style(){return ae.Column},get children(){return a(Re,{get when(){return t()},get children(){return[a(z,{skipFocus:!0,get style(){return ae.RowTitle},children:"Credits"}),a(Xt,{autofocus:!0,onEnter:i,get items(){return t()}})]}})}})]}})},ra=()=>(()=>{const r=Ae("node");return gt(r,"style",{width:1920,height:1080,color:868483072}),r})(),oa=new URL("AppCoreExtensions-fd546ccc.js",import.meta.url).href;Ce.debug=!1;Ce.fontSettings.fontFamily="Ubuntu";Ce.fontSettings.color=M("#ffffff");Ce.fontSettings.fontSize=100;ai(()=>a(ri,{options:{coreExtensionModule:oa,threadXCoreWorkerUrl:void 0},get children(){return a($i,{root:xs,get children(){return[a(ce,{path:"",component:Gn}),a(ce,{path:"examples",component:Ds}),a(ce,{path:"browse/:filter",component:Gn}),a(ce,{path:"text",component:Os}),a(ce,{path:"buttons",component:Ys}),a(ce,{path:"flex",component:Ws}),a(ce,{path:"flexsize",component:Us}),a(ce,{path:"flexcolumnsize",component:Xs}),a(ce,{path:"flexcolumn",component:js}),a(ce,{path:"buttonsmaterial",component:Hs}),a(ce,{path:"entity/people/:id",component:na}),a(ce,{path:"entity/:type/:id",component:Zs}),a(ce,{path:"*all",component:ra})]}})}}));export{sa as __vite_legacy_guard};
//# sourceMappingURL=index-30426699.js.map
